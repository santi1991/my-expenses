{"version":3,"sources":["src/resources/images/avatar.png","src/utilities/commons/Styles.js","src/utilities/notifications/Notifications.web.js","src/utilities/context/Reducers.js","src/utilities/context/InitialStates.js","src/utilities/context/AppProvider.js","src/utilities/components/TouchableView.js","src/utilities/components/FormatNumber.js","src/views/expenses/main/ChartPie.js","src/views/expenses/main/CategoryList.js","src/views/expenses/main/HeaderBar.js","src/utilities/commons/Utils.js","src/views/expenses/shared/Data.js","src/views/expenses/shared/Utils.js","src/utilities/components/Loader.js","src/utilities/components/CurrencyInput.js","src/utilities/components/DroplistMenu.js","src/utilities/components/StringInput.js","src/utilities/components/SingleDatePicker.js","src/utilities/commons/Storage.js","src/views/expenses/shared/components/AddExpense.js","src/views/expenses/shared/components/AddBudget.js","src/utilities/components/AboutMe.js","src/views/expenses/main/ExpenseScreen.js","src/views/expenses/detail/ExpensesList.js","src/views/expenses/detail/ResumeProfile.js","src/utilities/components/ButtonToggle.js","src/utilities/components/RangeDatePicker.js","src/views/expenses/detail/ExpensesFilter.js","src/views/expenses/detail/HeaderBar.js","src/views/expenses/detail/ExpenseDetailScreen.js","src/utilities/components/ResolveAppData.js","src/views/auth/SplashScreen.js","src/views/core/AppScreens.js","src/views/core/AppContainer.js","App.js","webpack:///F:/my-expenses/index.js?5e41"],"names":["module","exports","colors","CombinedDefaultTheme","PaperDefaultTheme","NavigationDefaultTheme","primary","styles","PaperDarkTheme","NavigationDarkTheme","StyleSheet","create","container","flex","backgroundColor","dividerContainer","height","marginBottom","marginTop","subheading","fontWeight","input","width","borderWidth","borderRadius","borderColor","paddingBottom","paddingTop","paddingLeft","fontSize","letterSpacing","modalContainer","padding","Platform","select","android","marginLeft","marginRight","web","alignSelf","modalPairContainer","flexDirection","justifyContent","alignItems","labelContainer","borderRightWidth","borderBottomRightRadius","borderTopRightRadius","triggerBudgetNotification","updatedCategory","a","async","alert","budget","value","name","toUpperCase","authState","state","action","type","isLoading","isOffline","expensesGroup","createPieData","categoryArray","map","item","index","svg","fill","color","onPress","id","onClick","key","updateCategoryExpenses","idx","categoryExpenses","findIndex","newCategoryExpenses","splice","updateExpenseClass","operation","selectedClass","itemExpense","itemIdx","updatedClass","payload","pieData","newExpense","newCtryExpenses","ctryIdx","category_id","isAlert","commonUpdate","totalExpense","array","housingExpenses","transportExpenses","billsExpenses","personalExpenses","foodExpenses","creditExpenses","Error","putExpense","oldExpenseValue","updatedExpense","selectedCategory","newTotalExpense","newTotalCategoryValue","difference","updateExpense","deletedExpense","deleteExpense","currentPeriod","AppContext","createContext","AppProvider","children","useReducer","Reducer","InitialState","setAuthState","setExpensesGroup","Provider","TouchableView","disabled","style","TouchableOpacity","activeOpacity","underlayColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","OS","FormatNumber","number","numberStyle","renderText","Text","displayType","decimalScale","decimalSeparator","thousandSeparator","prefix","React","memo","showAddExpense","View","localStyles","startContainer","Headline","Caption","textAlign","pieChart","data","innerRadius","outerRadius","labelRadius","slices","slice","labelCentroid","pieCentroid","percentage","labelPercentage","toFixed","x","y","textAnchor","alignmentBaseline","stroke","strokeWidth","positionX","x1","y1","x2","y2","length","transform","prevProps","nextProps","fadingContainer","BudgetButton","category","showAddBudget","buttonSyle","second_color","MaterialCommunityIcons","size","Paragraph","textStyle","ExpenseButton","toEditExpenses","useWindowDimensions","flatListContainer","FlatList","extraData","renderItem","setProgress","barProgress","labelProgress","categoryView","categoryContainer","Icon","avatarIcon","icon","Subheading","titleStyle","buttonContainer","fontStyle","ProgressBar","visible","progress","third_color","barStyle","keyExtractor","toString","numColumns","HeaderBar","showAboutMe","useState","menuVisible","setMenuVisible","Appbar","Header","statusBarHeight","Content","title","subtitle","Action","Menu","onDismiss","anchor","Item","console","log","randomInteger","min","max","Math","floor","random","utcMsToLocalString","utcDateMs","Date","toLocaleString","year","month","day","firstAndLastDayCurrentMonth","today","firstDay","getFullYear","getMonth","lastDay","expense_categories","housingConcepts","transportConcepts","billsConcepts","personalConcepts","foodConcepts","creditConcepts","selectConceptsList","categoryId","conceptsList","c","selectExpenseClass","expenseClass","filterExpenses","masterDataExpenses","filtersArray","copyMasterData","filteredData","concat","i","filterObject","find","optionFilter","filter","concept_id","currentData","itemData","date","firstDateFilter","lastDateFilter","byDateRange","sort","b","byDateOrder","firstValue","lastValue","byValueRange","byValueOrder","Loader","loading","Portal","Modal","contentContainerStyle","dismissable","ActivityIndicator","animating","CurrencyInput","editable","inputContainer","onChangeNumber","onChange","placeholder","TextInput","inlineImageLeft","autoCorrect","autoCapitalize","autoCompleteType","underlineColorAndroid","maxLength","onChangeText","text","mystring","replace","Number","keyboardType","onClickItem","initialNumToRender","titleContainer","buttonStyle","setVisible","itemPressed","Keyboard","dismiss","setTimeout","labelStyle","iconContainer","borderBottomLeftRadius","borderTopLeftRadius","inputStyle","onConfirm","birthdate","containerStyle","currentDate","open","setOpen","onDismissSingle","useCallback","onConfirmSingle","params","getTime","Button","theme","roundness","uppercase","mode","validRange","startDate","endDate","saveLabel","label","getInternalStorage","keys","AsyncStorage","multiGet","values","userExpenses","JSON","parse","userBudgets","setStorageValue","setItem","stringify","getStorageValue","getItem","jsonValue","removeAllStorage","multiRemove","updateExpenseStorage","expense","currentExpensesList","push","updateBudgetStorage","currentBudgetsList","onHideModal","expenseInfo","expenseCategories","useContext","refConceptList","useRef","initialState","category_name","concept_name","description","setExpense","setLoading","onDismissKeyboard","ms","generateExpenseFields","expenseDbFields","toISOString","expenseUiFields","handleOnDismiss","useEffect","current","prevState","newDate","Boolean","currentConceptName","num","IconButton","callDeleteExpense","payloadObj","callUpdateExpense","callPutExpense","setBudget","iconBell","callPutBudget","budgetFields","budget_id","callUpdateBudget","Title","Divider","inset","AboutMe","supportedURL","handlePress","Linking","canOpenURL","openURL","Alert","Image","source","require","ExpenseScreen","navigation","route","refCategory","addExpenseVisible","setAddExpenseVisible","addBudgetVisible","setAddBudgetVisible","aboutVisible","setAboutVisible","navigate","list","itemContainer","itemHeader","ListEmptyComponent","margin","ResumeProfile","expenses","getDate","relatedMonth","relatedYear","resumeContainer","Surface","categorySurface","pairContainer","categoryIcon","textTitle","pairLabel","surface","defaultValue","onSelect","iconLeft","iconRight","activeColor","inactiveColor","titleLeft","titleRight","boxContainer","spacing","leftValue","rightValue","refLeftPressed","refRightPressed","render","setRender","onConfirmRange","startLabel","endLabel","onFilter","masterDataSource","onClean","clearIcon","filterArray","addToFilterArray","deleteFromFilterArray","onCleanConcept","initialDate","finalDate","onCleanDateRange","dateOrder","setDateOrder","onCleanDateOrder","valueRange","setValueRange","onSelectValueRange","order","onCleanValueRange","valueOrder","setValueOrder","onCleanValueOrder","closeFilterModal","val","parameter","cloneFilterArray","filterFunction","showFilter","search","setSearch","BackAction","goBack","Searchbar","newData","textData","indexOf","searchBarStyle","ExpenseDetailScreen","refFirstRender","refConceptsList","refExpense","filteredExpenses","expenseData","setExpenseData","filterVisible","setFilterVisible","hideExpensesFilter","currentExpenseClass","currentCategory","selectCategory","SafeAreaView","StatusBar","animated","filteredArray","ResolveAppData","onHide","currentMonth","storageMonth","checkStorageDate","then","getUserData","response","newExpCategories","housingValue","transportValue","billsValue","personalValue","foodValue","creditValue","k","budgetFound","structureUserExpenses","SplashScreen","Stack","createStackNavigator","AppScreens","Navigator","Screen","component","options","headerShown","AppContainer","NavigationContainer","App","registerRootComponent"],"mappings":"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","file":"static/js/app.67c3473a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.ca01abb8.png\";","import { StyleSheet, Platform } from 'react-native';\r\n\r\nimport {    \r\n    DarkTheme as NavigationDarkTheme,\r\n    DefaultTheme as NavigationDefaultTheme,\r\n} from '@react-navigation/native';\r\n\r\nimport {\r\n    DarkTheme as PaperDarkTheme,\r\n    DefaultTheme as PaperDefaultTheme,\r\n    Provider as PaperProvider,\r\n} from 'react-native-paper';\r\n\r\n\r\nconst colors = {\r\n    primary: '#263238',\r\n\tsecondary: 'blue',\r\n    // secondary: '#ff3d00',\r\n    tertiary: '#01579B',\r\n    auxiliary: '#546E7A'\r\n};\r\n\r\nconst CombinedDefaultTheme = {\r\n    ...PaperDefaultTheme,\r\n    ...NavigationDefaultTheme,\r\n    colors: {\r\n        ...PaperDefaultTheme.colors,\r\n        ...NavigationDefaultTheme.colors,\r\n\t\tprimary: colors.primary\r\n    },\r\n};\r\n\r\nconst CombinedDarkTheme = {\r\n    ...PaperDarkTheme,\r\n    ...NavigationDarkTheme,\r\n    colors: {\r\n        ...PaperDarkTheme.colors,\r\n        ...NavigationDarkTheme.colors,\r\n    },\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: 'white',\r\n\t}, \r\n\tdividerContainer: {\r\n\t\theight: 1.5,\r\n\t\tmarginBottom: 3,\r\n\t\tmarginTop: 3\r\n\t},\r\n\t\r\n\t//--------------------------------------------------------------\r\n\t//--------------   D I A L O G   S T Y L E   -------------------\r\n\tsubheading: {\r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\tinput: {\r\n\t\twidth: 170,\r\n\t\theight: 34,\r\n\t\tborderWidth: 1,\r\n\t\tborderRadius: 3,\r\n\t\tborderColor: 'grey',\r\n\t\tpaddingBottom: 0,\r\n\t\tpaddingTop: 0,\r\n\t\tpaddingLeft: 8,\r\n\t\tmarginTop: 2,\r\n\t\tfontSize: 17,\r\n\t\tbackgroundColor: 'white',\r\n\t\tletterSpacing: 0.6\r\n\t},\r\n\t//--------------------------------------------------------------\r\n\t//--------------   M O D A L   S T Y L E   -------------------\r\n\tmodalContainer: {\r\n\t\tbackgroundColor: '#FAFAFA',\r\n\t\tpadding: 12,\r\n\t\tborderRadius: 16,\r\n\t\t// width: 400,\r\n\t\t// height: 350,\r\n\t\t// alignSelf:'center', \r\n\t\t// marginLeft: Platform.OS === 'web' ? 200 : 10,\r\n\t\t// marginRight: Platform.OS === 'web' ? 200 : 10, //'36.6%'\r\n\t\t...Platform.select({\r\n\t\t\tandroid: {\r\n\t\t\t\t// marginBottom: '50%'\r\n\t\t\t\tmarginLeft: 10,\r\n\t\t\t\tmarginRight: 10, \r\n\t\t\t},\r\n\t\t\tweb: {\r\n\t\t\t\twidth: 400,\r\n\t\t\t\theight: 330,\r\n\t\t\t\talignSelf:'center', \r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tmodalPairContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-between',\r\n\t\talignItems: 'center',\r\n\t\tmarginBottom: 4,\r\n\t\tmarginTop: 4,\r\n\t},\r\n\tlabelContainer: {\r\n\t\tborderWidth: 1,\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\theight: 35,\r\n\t\twidth: 160,\r\n\t\tborderRightWidth: 0,\r\n\t\tborderColor: 'grey',\r\n\t\tborderRadius: 3,\r\n\t\tbackgroundColor: 'white',\r\n\t\tborderBottomRightRadius: 0,\r\n\t\tborderTopRightRadius: 0\r\n\t}\r\n});\r\n\r\nexport { PaperProvider, CombinedDefaultTheme, CombinedDarkTheme, styles, colors }\r\n\r\n\r\n","export const triggerBudgetNotification = async (updatedCategory) => {\r\n\tif (updatedCategory.alert === false || updatedCategory.budget === 0) {\r\n\t\treturn false;\r\n\t}\r\n\tif (updatedCategory.alert === true && updatedCategory.value >= updatedCategory.budget) {\t\t\r\n\t\talert(`Estás gastando de más!\\n\r\n\t\t\tHas pasado tu presupuesto de ${updatedCategory.name.toUpperCase()}!`\r\n\t\t);\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\n","\r\nimport { triggerBudgetNotification } from '../notifications/Notifications';\r\n\r\nexport const authState = (state, action) => {\r\n\tconst logInUser = () => {\r\n\t\treturn { ...state, isLoading: false };\r\n\t};\r\n\tconst logOutUser = () => {\r\n\t\treturn { ...state, isLoading: false };\r\n\t};\r\n\tconst offlineMode = () => {\r\n\t\treturn { ...state, isLoading: false, isOffline: true };\r\n\t};\r\n\tswitch (action.type) {\r\n\t\tcase 'LOG_IN':\r\n\t\t\treturn logInUser();\r\n\t\tcase 'LOG_OUT':\r\n\t\t\treturn logOutUser();\r\n\t\tcase 'OFFLINE':\r\n\t\t\treturn offlineMode();\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const expensesGroup = (state, action) => {\r\n\t//-----   common helpers   -------------------------------------------------------\r\n\tconst createPieData =  (categoryArray) => {\r\n\t\treturn categoryArray.map((item, index) => ({ \r\n\t\t\tvalue: item.value,\r\n\t\t\tsvg: {\r\n\t\t\t\tname: item.name,\r\n\t\t\t\tfill: item.color,\r\n\t\t\t\tonPress: () => alert('press' + item.id),\r\n\t\t\t\tonClick: () => alert('press' + item.id)\r\n\t\t\t},\r\n\t\t\tkey: `pie-${item.id}`,\r\n\t\t}));\r\n\t};\t\t\r\n\tconst updateCategoryExpenses = (updatedCategory) => {\t\t\r\n\t\tconst idx = state.categoryExpenses.findIndex(idx => idx.id === updatedCategory.id);\r\n\t\tconst newCategoryExpenses = [...state.categoryExpenses];\r\n\t\tnewCategoryExpenses.splice(idx, 1, updatedCategory);\r\n\t\treturn newCategoryExpenses;\r\n\t};\r\n\tconst updateExpenseClass = (operation, selectedClass, itemExpense) => {\r\n\t\tconst itemIdx = selectedClass.findIndex(itemIdx => itemIdx.id === itemExpense.id);\r\n\t\tconst updatedClass = [...selectedClass];\r\n\t\tif (operation === 'update') {\r\n\t\t\tupdatedClass.splice(itemIdx, 1, itemExpense);\r\n\t\t}\r\n\t\telse if (operation === 'delete') {\r\n\t\t\tupdatedClass.splice(itemIdx, 1);\r\n\t\t}\r\n\t\treturn updatedClass;\r\n\t};\r\n\t//---------------------------------------------------------------------------------\r\n\tconst putExpense = () => {\r\n\t\tconst newExpense = action.payload;\r\n\t\tconst newCtryExpenses = [...state.categoryExpenses];\r\n\t\tconst ctryIdx = newCtryExpenses.findIndex(ctryIdx => ctryIdx.id === newExpense.category_id);\r\n\t\tconst updatedCategory = { ...newCtryExpenses[ctryIdx], value: newCtryExpenses[ctryIdx].value + newExpense.value };\t\t\t\t\r\n\t\tconst isAlert = triggerBudgetNotification(updatedCategory);\t\t\r\n\t\tif (isAlert === true) {\r\n\t\t\tupdatedCategory.alert = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tupdatedCategory.alert = false;\r\n\t\t}\t\t \r\n\t\tnewCtryExpenses.splice(ctryIdx, 1, updatedCategory);\r\n\t\tconst commonUpdate = {\r\n\t\t\t...state,\r\n\t\t\ttotalExpense: state.totalExpense + newExpense.value,\r\n\t\t\tcategoryExpenses: newCtryExpenses,\r\n\t\t\tpieData: createPieData(newCtryExpenses)\t\t\r\n\t\t};\t\t\r\n\t\tconst array = [newExpense];\t\r\n\t\tswitch (newExpense.category_id) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn { ...commonUpdate, housingExpenses: [...array, ...state.housingExpenses] };\r\n\t\t\tcase 2:\r\n\t\t\t\treturn { ...commonUpdate, transportExpenses: [...array, ...state.transportExpenses] };\r\n\t\t\tcase 3:\r\n\t\t\t\treturn { ...commonUpdate, billsExpenses: [...array, ...state.billsExpenses] };\r\n\t\t\tcase 4:\r\n\t\t\t\treturn { ...commonUpdate, personalExpenses: [...array, ...state.personalExpenses] };\r\n\t\t\tcase 5:\r\n\t\t\t\treturn { ...commonUpdate, foodExpenses: [...array, ...state.foodExpenses] };\r\n\t\t\tcase 6:\r\n\t\t\t\treturn { ...commonUpdate, creditExpenses: [...array, ...state.creditExpenses] };\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No hubo match en switch --> putExpense/Expenses reducer');\r\n\t\t}\r\n\t};\r\n\tconst updateExpense = () => {\r\n\t\tconst { oldExpenseValue, updatedExpense, selectedCategory, selectedClass } = action.payload;\r\n\t\t\r\n\t\tlet newTotalExpense = state.totalExpense;\r\n\t\tlet newTotalCategoryValue = selectedCategory.value;\r\n\t\tlet difference = 0;\t\t\t\t\r\n\r\n\t\tif (updatedExpense.value > oldExpenseValue) {\r\n\t\t\tdifference = updatedExpense.value - oldExpenseValue;\r\n\t\t\tnewTotalExpense = state.totalExpense + difference;\r\n\t\t\tnewTotalCategoryValue = selectedCategory.value + difference;\t\t\t\r\n\t\t}\r\n\t\telse if (updatedExpense.value < oldExpenseValue) {\r\n\t\t\tdifference = oldExpenseValue - updatedExpense.value;\r\n\t\t\tnewTotalExpense = state.totalExpense - difference;\r\n\t\t\tnewTotalCategoryValue = selectedCategory.value - difference;\r\n\t\t}\r\n\r\n\t\tconst updatedCategory = { ...selectedCategory, value: newTotalCategoryValue };\r\n\t\tconst isAlert = triggerBudgetNotification(updatedCategory);\r\n\t\tif (isAlert === true) {\r\n\t\t\tupdatedCategory.alert = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tupdatedCategory.alert = false;\r\n\t\t}\r\n\t\tconst newCategoryExpenses = updateCategoryExpenses(updatedCategory);\r\n\t\tconst updatedClass = updateExpenseClass('update', selectedClass, updatedExpense);\r\n\r\n\t\tconst commonUpdate = {\r\n\t\t\t...state,\r\n\t\t\ttotalExpense: newTotalExpense,\r\n\t\t\tcategoryExpenses: newCategoryExpenses,\r\n\t\t\tpieData: createPieData(newCategoryExpenses)\r\n\t\t};\r\n\t\tswitch (updatedExpense.category_id) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn { ...commonUpdate, housingExpenses: updatedClass };\r\n\t\t\tcase 2:\r\n\t\t\t\treturn { ...commonUpdate, transportExpenses: updatedClass };\r\n\t\t\tcase 3:\r\n\t\t\t\treturn { ...commonUpdate, billsExpenses: updatedClass };\r\n\t\t\tcase 4:\r\n\t\t\t\treturn { ...commonUpdate, personalExpenses: updatedClass };\r\n\t\t\tcase 5:\r\n\t\t\t\treturn { ...commonUpdate, foodExpenses: updatedClass };\r\n\t\t\tcase 6:\r\n\t\t\t\treturn { ...commonUpdate, creditExpenses: updatedClass };\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No hubo match en switch --> updateExpense /-ExpenseGroup reducer');\r\n\t\t}\r\n\t};\t\r\n\tconst deleteExpense = () => {\r\n\t\tconst { deletedExpense, selectedCategory, selectedClass } = action.payload;\r\n\r\n\t\tconst updatedCategory = { ...selectedCategory, value: selectedCategory.value - deletedExpense.value };\r\n\r\n\t\tconst newCategoryExpenses = updateCategoryExpenses(updatedCategory);\r\n\r\n\t\tconst updatedClass = updateExpenseClass('delete', selectedClass, deletedExpense);\r\n\r\n\t\tconst commonUpdate = {\r\n\t\t\t...state,\r\n\t\t\ttotalExpense: state.totalExpense - deletedExpense.value,\r\n\t\t\tcategoryExpenses: newCategoryExpenses,\r\n\t\t\tpieData: createPieData(newCategoryExpenses)\r\n\t\t};\r\n\t\tswitch (deletedExpense.category_id) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn { ...commonUpdate, housingExpenses: updatedClass };\r\n\t\t\tcase 2:\r\n\t\t\t\treturn { ...commonUpdate, transportExpenses: updatedClass };\r\n\t\t\tcase 3:\r\n\t\t\t\treturn { ...commonUpdate, billsExpenses: updatedClass };\r\n\t\t\tcase 4:\r\n\t\t\t\treturn { ...commonUpdate, personalExpenses: updatedClass };\r\n\t\t\tcase 5:\r\n\t\t\t\treturn { ...commonUpdate, foodExpenses: updatedClass };\r\n\t\t\tcase 6:\r\n\t\t\t\treturn { ...commonUpdate, creditExpenses: updatedClass };\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No hubo match en switch --> deleteExpense /-ExpenseGroup reducer');\r\n\t\t}\r\n\t};\t\r\n\tconst onInitialize = () => {\t\t\r\n\t\treturn { \r\n\t\t\t...state, \r\n\t\t\t...action.payload, \r\n\t\t\tpieData: createPieData(action.payload.categoryExpenses) \r\n\t\t};\r\n\t};\r\n\tswitch (action.type) {\r\n\t\tcase 'INITIALIZE':\r\n\t\t\treturn onInitialize();\t\t\r\n\t\tcase 'PUT_EXPENSE':\t\t\t\r\n\t\t\treturn putExpense();\r\n\t\tcase 'UPDATE_EXPENSE':\r\n\t\t\treturn updateExpense();\r\n\t\tcase 'DELETE_EXPENSE':\r\n\t\t\treturn deleteExpense();\r\n\t\tcase 'UPDATE_CATEGORY':\r\n\t\t\treturn { ...state, categoryExpenses: updateCategoryExpenses(action.payload) };\r\n\t\tdefault:\r\n\t\t\tthrow new Error('No match de Action en switch -> expensesGroupReducer');\r\n\t}\r\n};","export const authState = {\r\n\tisLoading: true,\r\n\tisOffline: false     \t\t\r\n};\r\n\r\nexport const expensesGroup = { \r\n\tcurrentPeriod: {},\r\n\ttotalExpense: 0,\r\n\tpieData: [],\r\n\tcategoryExpenses: [],\r\n\thousingExpenses: [],\r\n\ttransportExpenses:  [],\r\n\tbillsExpenses:  [],\r\n\tpersonalExpenses:  [],\r\n\tfoodExpenses:  [],\r\n\tcreditExpenses:  [],\t\r\n};","import React, { createContext, useReducer } from 'react';\r\nimport * as Reducer from './Reducers';\r\nimport * as InitialState from './InitialStates';\r\n\r\nconst AppContext = createContext();\r\n\r\n\r\nconst AppProvider = ({ children }) => {\r\n\r\n\tconst [authState, setAuthState] = useReducer(Reducer.authState, InitialState.authState);\r\n\tconst [expensesGroup, setExpensesGroup] = useReducer(Reducer.expensesGroup, InitialState.expensesGroup);\r\n\r\n\treturn (\r\n\t\t<AppContext.Provider\r\n\t\t\tvalue={{\t\r\n\t\t\t\tauthState,\r\n\t\t\t\tsetAuthState,\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\texpensesGroup,\r\n\t\t\t\tsetExpensesGroup,\t\t\t\t\t\t\t\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AppContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default AppProvider;\r\nexport { AppContext };","import React from 'react';\r\nimport { TouchableOpacity, StyleSheet, Platform } from 'react-native';\r\n\r\nconst TouchableView = ({ disabled, onPress, style, children }) => {\r\n\treturn (\r\n\t\t<TouchableOpacity\r\n\t\t\tdisabled={disabled}\r\n\t\t\tactiveOpacity={0.6}\r\n\t\t\tunderlayColor='#DDDDDD'\r\n\t\t\tonPress={onPress}\r\n\t\t\tstyle={[styles.container, style]} //when the children is a common react native component, the style props is not required\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TouchableOpacity>\r\n\t);\r\n};\r\nexport default TouchableView;\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\t\r\n\t\tshadowColor: '#000',\r\n\t\tshadowOffset: { width: 0, height: 0.6 },\r\n\t\tshadowOpacity: 0.5,\r\n\t\tshadowRadius: 1.5,\r\n\t\televation: Platform.OS === 'web' ? 2 : 5,\r\n\t}\r\n});","import React from 'react';\r\nimport { Text } from 'react-native';\r\nimport NumberFormat from 'react-number-format';\r\n\r\nconst FormatNumber = ({ value: number, style: numberStyle }) => {\r\n\r\n\treturn (\r\n\t\t<NumberFormat\r\n\t\t\tvalue={number}\r\n\t\t\trenderText={value =>\r\n\t\t\t\t<Text style={[{ color: 'white', fontSize:17, letterSpacing: 0.5 }, numberStyle]}>\r\n\t\t\t\t\t{value}\r\n\t\t\t\t</Text>\r\n\t\t\t}\r\n\t\t\tdisplayType={'text'}\r\n\t\t\tdecimalScale={2}\r\n\t\t\tdecimalSeparator=','\r\n\t\t\tthousandSeparator='.'\r\n\t\t\tprefix={'$ '}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default FormatNumber;\r\n\r\n","import React from 'react';\r\nimport { StyleSheet, View, Platform, Text as ReactText } from 'react-native';\r\nimport { PieChart } from 'react-native-svg-charts';\r\nimport { Circle, G, Line, ForeignObject } from 'react-native-svg'\r\nimport { Headline, Caption } from 'react-native-paper';\r\nimport { Text } from 'react-native-svg';\r\nimport TouchableView from '../../../utilities/components/TouchableView';\r\nimport FormatNumber from '../../../utilities/components/FormatNumber';\r\n\r\nconst ChartPie = ({ showAddExpense, totalExpense, pieData }) => {\r\n\r\n\tconst LabelsPer = ({ slices, height, width }) => slices.map((slice, index) => {\r\n\t\tconst { labelCentroid, pieCentroid, data } = slice;\r\n\t\tconst percentage = (data.value / totalExpense) * 100;\r\n\t\tconst labelPercentage = percentage.toFixed(1) + '%';\r\n\t\tif (data.value === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Text\r\n\t\t\t\tkey={index}\r\n\t\t\t\tx={pieCentroid[0]}\r\n\t\t\t\ty={pieCentroid[1]}\r\n\t\t\t\tfill='white'\r\n\t\t\t\ttextAnchor='middle'\r\n\t\t\t\talignmentBaseline='middle'\r\n\t\t\t\tfontSize={13}\r\n\t\t\t\tfontWeight='800'\r\n\t\t\t\tstroke='black'\r\n\t\t\t\tstrokeWidth={0.2}\r\n\t\t\t>\r\n\t\t\t\t{percentage < 9 ? '' : labelPercentage}\r\n\t\t\t</Text>\r\n\t\t);\r\n\t});\r\n\r\n\tconst modifyX = (positionX, name) => {\r\n\t\t// -84 ** -60\r\n\t\tif (positionX < 0 && positionX < -53) {\r\n\t\t\tif (name.length >= 10 && name.length < 13) {\r\n\t\t\t\treturn positionX - 70;\r\n\t\t\t}\r\n\t\t\tif (name.length >= 13) {\r\n\t\t\t\treturn positionX - 118;\r\n\t\t\t}\r\n\t\t\treturn positionX - 55;\r\n\t\t}\r\n\t\treturn positionX;\r\n\t};\r\n\r\n\tconst Labels = ({ slices }) => {\r\n\t\treturn slices.map((slice, index) => {\r\n\t\t\tconst { labelCentroid, pieCentroid, data } = slice;\r\n\t\t\t// console.log('____________')\r\n\t\t\t// console.log(data.svg.name);\r\n\t\t\t// console.log(labelCentroid);\r\n\t\t\tif (data.value === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<G key={data.key} >\r\n\t\t\t\t\t<Line\r\n\t\t\t\t\t\tx1={labelCentroid[0]}\r\n\t\t\t\t\t\ty1={labelCentroid[1]}\r\n\t\t\t\t\t\tx2={pieCentroid[0]}\r\n\t\t\t\t\t\ty2={pieCentroid[1]}\r\n\t\t\t\t\t\tstroke={data.svg.fill}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <Circle \r\n\t\t\t\t\t\t\tonClick={data.svg.onPress}\r\n\t\t\t\t\t\t\tcx={labelCentroid[0]}\r\n\t\t\t\t\t\t\tcy={labelCentroid[1]}\r\n\t\t\t\t\t\t\tr={15}\r\n\t\t\t\t\t\t\tfill={data.svg.fill}\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tkey={data.key}\r\n\t\t\t\t\t\t// x={labelCentroid[0]}\r\n\t\t\t\t\t\tx={modifyX(labelCentroid[0], data.svg.name)}\r\n\t\t\t\t\t\ty={labelCentroid[1]}\r\n\t\t\t\t\t\tfill={data.svg.fill}\r\n\t\t\t\t\t\t// fill='white'\r\n\t\t\t\t\t\t// textAnchor='middle'\r\n\t\t\t\t\t\t// alignmentBaseline='middle'\r\n\t\t\t\t\t\t// fontSize={16}\r\n\t\t\t\t\t\t// fontWeight='800'\r\n\t\t\t\t\t\t// stroke='black'\r\n\t\t\t\t\t\t// strokeWidth={0.5}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{data.svg.name}\r\n\t\t\t\t\t</Text>\r\n\r\n\t\t\t\t</G>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={{}} >\r\n\t\t\t{\r\n\t\t\t\ttotalExpense === 0 ? (\r\n\t\t\t\t\t<TouchableView\r\n\t\t\t\t\t\tonPress={() => showAddExpense(null)}\r\n\t\t\t\t\t\tstyle={[localStyles.startContainer, { backgroundColor: 'black' }]}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t<Headline style={{ color: 'white' }} >Comienza!</Headline>\r\n\t\t\t\t\t\t<Caption style={{ color: 'white', textAlign: 'center' }}>Registra {'\\n'} tu primer gasto</Caption>\r\n\r\n\t\t\t\t\t</TouchableView>\r\n\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\tstyle={localStyles.pieChart}\r\n\t\t\t\t\t\tdata={pieData}\r\n\t\t\t\t\t\tinnerRadius={55}\r\n\t\t\t\t\t\touterRadius={90}\r\n\t\t\t\t\t\tlabelRadius={125}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<LabelsPer />\r\n\t\t\t\t\t\t<Labels />\r\n\t\t\t\t\t\t{/* x={-35} y={-18} */}\r\n\t\t\t\t\t\t<ForeignObject x={-100} y={-18} width={100} height={100}>\r\n\t\t\t\t\t\t\t<View style={{ alignItems:'center', width: 200, height: 400, transform: [] }}>\r\n\t\t\t\t\t\t\t\t<ReactText  >Gasto Total</ReactText>\r\n\t\t\t\t\t\t\t\t<FormatNumber value={totalExpense} style={{ color: 'black', fontSize:15 }} />\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t</ForeignObject>\r\n\r\n\t\t\t\t\t</PieChart>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</View>\r\n\t);\r\n\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.totalExpense === nextProps.totalExpense;\r\n};\r\nexport default React.memo(ChartPie, areEqual);\r\n// export default ChartPie;\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tpieChart: {\r\n\t\theight: 300,\r\n\t\t// marginTop: 10\r\n\t},\t\r\n\tfadingContainer: {\r\n\t\t// backgroundColor: 'powderblue'\r\n\t},\r\n\tstartContainer: {\r\n\t\talignSelf: 'center',\r\n\t\theight: 150,\r\n\t\twidth: 150,\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 80,\r\n\t\tborderColor: 'white',\r\n\t\tmarginTop: Platform.OS === 'web' ? '4%' : '10%',\r\n\t\tmarginBottom: Platform.OS === 'web' ? '4%' : '10%',\r\n\t\televation: 5\r\n\t}\r\n});","import React from 'react';\r\nimport { StyleSheet, Platform, FlatList, View, useWindowDimensions } from 'react-native';\r\nimport { Avatar, Paragraph, Subheading, Text, Caption, ProgressBar } from 'react-native-paper';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport TouchableView from '../../../utilities/components/TouchableView';\r\nimport FormatNumber from '../../../utilities/components/FormatNumber';\r\n\r\n\r\nconst BudgetButton = ({ category, onClick: showAddBudget }) => (\r\n\r\n\t<TouchableView\r\n\t\tonPress={() => showAddBudget(category)}\r\n\t\tstyle={[localStyles.buttonSyle, { backgroundColor: category.second_color }]}\r\n\t>\r\n\t\t{\r\n\t\t\tcategory.budget === 0 ? (\r\n\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n\t\t\t\t\t<Caption style={{ color: 'white', flex: 0.9, textAlign: 'center', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\tCREAR PRESUPUESTO\r\n\t\t\t\t\t</Caption>\r\n\t\t\t\t\t<MaterialCommunityIcons name='circle-edit-outline' size={22} color='white' />\r\n\t\t\t\t</View>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }} >\r\n\t\t\t\t\t\t<Paragraph style={localStyles.textStyle} >Presupuesto</Paragraph>\r\n\t\t\t\t\t\t<MaterialCommunityIcons name='circle-edit-outline' size={20} color='white' />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<FormatNumber value={category.budget} />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t</TouchableView>\r\n);\r\n\r\nconst ExpenseButton = ({ category, onClick: showAddExpense }) => (\r\n\t<TouchableView\r\n\t\tonPress={() => showAddExpense(category)}\r\n\t\tstyle={[localStyles.buttonSyle, { backgroundColor: category.second_color }]}\r\n\t>\r\n\t\t{\r\n\t\t\tcategory.value === 0 ? (\r\n\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n\t\t\t\t\t<Paragraph style={{ color: 'white', flex: 0.7, textAlign: 'center', fontWeight: 'bold' }} >NUEVO GASTO</Paragraph>\r\n\t\t\t\t\t<MaterialCommunityIcons name='plus-circle-outline' size={24} color='white' />\r\n\t\t\t\t</View>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }} >\r\n\t\t\t\t\t\t<Paragraph style={localStyles.textStyle}>Gasto</Paragraph>\r\n\t\t\t\t\t\t<MaterialCommunityIcons name='plus-circle-outline' size={21} color='white' />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<FormatNumber\r\n\t\t\t\t\t\tvalue={category.value}\r\n\t\t\t\t\t\tstyle={{ fontSize: 17 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t</TouchableView>\r\n);\r\n\r\n\r\n\r\nconst CategoryList = ({ categoryExpenses, totalExpense, toEditExpenses, showAddExpense, showAddBudget }) => {\r\n\t// console.log('render: CategoryList');\r\n\tconst dimensions = useWindowDimensions();\r\n\r\n\tconst renderListCategories = ({ item }) => {\r\n\t\t// console.log(item);\r\n\t\tconst setProgress = () => {\r\n\t\t\tlet barProgress = 0;\r\n\t\t\tlet labelProgress = '0%';\r\n\t\t\tif (item.budget > item.value) {\r\n\t\t\t\tbarProgress = item.value / item.budget;\r\n\t\t\t\tlabelProgress = `${(barProgress * 100).toFixed(1)}%`;\r\n\t\t\t}\r\n\t\t\treturn { barProgress, labelProgress };\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<View style={localStyles.categoryView}>\r\n\r\n\t\t\t\t<TouchableView\r\n\t\t\t\t\tonPress={() => toEditExpenses(item)}\r\n\t\t\t\t\tstyle={[localStyles.categoryContainer, { backgroundColor: item.color }]}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<View style={{ flex: 0.15, alignItems: 'center' }}>\r\n\t\t\t\t\t\t<Avatar.Icon style={localStyles.avatarIcon} size={44} icon={item.icon} />\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<View style={{ flex: 0.74 }}>\r\n\r\n\t\t\t\t\t\t<Subheading style={localStyles.titleStyle}>\r\n\t\t\t\t\t\t\t{item.name.toUpperCase()}\r\n\t\t\t\t\t\t</Subheading>\r\n\r\n\t\t\t\t\t\t<View style={localStyles.buttonContainer} >\r\n\r\n\t\t\t\t\t\t\t<BudgetButton\r\n\t\t\t\t\t\t\t\tcategory={item}\r\n\t\t\t\t\t\t\t\tonClick={showAddBudget}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ExpenseButton\r\n\t\t\t\t\t\t\t\tcategory={item}\r\n\t\t\t\t\t\t\t\tonClick={showAddExpense}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.budget === 0 ? (\r\n\t\t\t\t\t\t\t\t<Caption style={{ color: 'white', fontStyle:'italic' }}>\r\n\t\t\t\t\t\t\t\t\tAgrega un presupuesto para ver el progreso\r\n\t\t\t\t\t\t\t\t</Caption>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<ProgressBar\r\n\t\t\t\t\t\t\t\t\t\tvisible={item.budget > item.value || false}\r\n\t\t\t\t\t\t\t\t\t\tprogress={setProgress().barProgress}\r\n\t\t\t\t\t\t\t\t\t\tcolor={item.third_color}\r\n\t\t\t\t\t\t\t\t\t\tstyle={localStyles.barStyle}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<Text style={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\titem.budget > item.value ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t`Progreso Presupuesto: ${setProgress().labelProgress}` :\r\n\t\t\t\t\t\t\t\t\t\t\t\t'...debes actualizar tu presupuesto.'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<View style={{ flex: 0.11, alignItems: 'center' }} >\r\n\t\t\t\t\t\t<MaterialCommunityIcons name='chevron-right' size={38} color='white' />\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t</TouchableView>\r\n\r\n\t\t\t</View>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={localStyles.flatListContainer}>\r\n\t\t\t<FlatList\r\n\t\t\t\tdata={categoryExpenses}\r\n\t\t\t\textraData={categoryExpenses}\r\n\t\t\t\trenderItem={renderListCategories}\r\n\t\t\t\tkeyExtractor={item => (item.id).toString()}\r\n\t\t\t\t// numColumns={dimensions.width >= 768 ? 2 : 1}\t\t\r\n\t\t\t\tnumColumns={Platform.OS === 'web' ? 2 : 1}\t\t\r\n\t\t\t/>\r\n\t\t</View>\r\n\t);\r\n\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.totalExpense === nextProps.totalExpense &&\r\n\t\tprevProps.categoryExpenses === nextProps.categoryExpenses;\r\n};\r\n\r\n\r\nexport default React.memo(CategoryList, areEqual);\r\n\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tflatListContainer: {\r\n\t\t...Platform.select({\r\n\t\t\tweb: {\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tmarginBottom: 10\r\n\t\t\t\t//height: '50%',\r\n\t\t\t\t//backgroundColor: 'white',\t\t\t\r\n\t\t\t},\r\n\t\t\tandroid: {\r\n\t\t\t\t// maxHeight: '55%',\r\n\t\t\t\theight: '55%',\r\n\t\t\t\t//backgroundColor:'white'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tcategoryView: {\r\n\t\t...Platform.select({\r\n\t\t\tandroid: {\r\n\t\t\t\tbackgroundColor: '#ECEFF1'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tcategoryContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\talignItems: 'center',\r\n\t\tpadding: 2,\r\n\t\televation: 5,\r\n\t\theight: 135,\r\n\t\tborderWidth: 0.6,\r\n\t\tborderColor: 'grey',\r\n\t\tborderRadius: 22,\r\n\t\tmarginTop: 2,\r\n\t\tmarginBottom: 2,\r\n\t\tmarginLeft: 4,\r\n\t\tmarginRight: 4,\r\n\t\t...Platform.select({\r\n\t\t\tweb: {\r\n\t\t\t\twidth: 400,\r\n\t\t\t},\r\n\t\t})\r\n\t},\r\n\tavatarIcon: {\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'white',\r\n\t},\r\n\ttitleStyle: {\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: 'bold',\r\n\t\tletterSpacing: 2,\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\ttextStyle: {\r\n\t\tmarginRight: 5,\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\tbuttonContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-evenly',\r\n\t\tmarginTop: 2,\r\n\t\tmarginBottom: 4\r\n\t},\r\n\tbuttonSyle: {\r\n\t\tflex: 0.46,\r\n\t\theight: 55,\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\tborderWidth: 0.3,\r\n\t\tborderColor: 'grey',\r\n\t\tborderRadius: 8,\r\n\t\tpadding: 1\r\n\t},\r\n\tbarStyle: {\r\n\t\tmarginTop: 5,\r\n\t\tmarginBottom: 5,\r\n\t\theight: 6\r\n\t}\r\n});\r\n\r\n","import React, { useState } from 'react';\r\nimport { Menu, Appbar } from 'react-native-paper';\r\n// import { removeAllStorage } from '../../../utilities/commons/Storage';\r\n\r\n\r\nconst HeaderBar = ({ showAddExpense, showAboutMe }) => {\r\n\r\n\tconst [menuVisible, setMenuVisible] = useState(false);\r\n\tconst openMenu = () => setMenuVisible(true);\r\n\tconst closeMenu = () => setMenuVisible(false);\r\n\r\n\t\r\n\treturn (\r\n\t\t<Appbar.Header\r\n\t\t\t// theme={{ colors: { primary: color } }} \r\n\t\t\tstatusBarHeight={0}\r\n\t\t\t// style={{justifyContent: 'space-between'}}\r\n\t\t>\r\n\t\t\t<Appbar.Content title='Gastos' subtitle='Registra tus gastos' />\r\n\r\n\t\t\t<Appbar.Action icon='face-recognition' onPress={showAboutMe} />\r\n\t\t\t<Appbar.Action icon='plus' onPress={() => showAddExpense(null)} />\r\n\r\n\t\t\t<Menu\r\n\t\t\t\tvisible={menuVisible}\r\n\t\t\t\tonDismiss={closeMenu}\r\n\t\t\t\tanchor={\r\n\t\t\t\t\t<Appbar.Action disabled={true} icon='dots-vertical' color='white' onPress={openMenu} />\r\n\t\t\t\t}>\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tonPress={() => console.log('option1')}\r\n\t\t\t\t\ttitle='Presupuesto'\r\n\t\t\t\t/>\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tonPress={() => console.log('option3')}\r\n\t\t\t\t\ttitle='Reportes'\r\n\t\t\t\t/>\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tonPress={() => console.log('option2')}\r\n\t\t\t\t\ttitle='Ayuda...'\r\n\t\t\t\t/>\r\n\t\t\t</Menu>\r\n\t\t</Appbar.Header>\r\n\t);\r\n};\r\nexport default HeaderBar;\r\n\r\n\r\n","export const randomInteger = (min, max) => {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\nexport const utcDateConstructor = (year, month, day, hours, minutes, seconds) => {\r\n\t// the month is 0-indexed --> 0-11\t\r\n\treturn new Date(year, month, day, hours, minutes, seconds); // return date object\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const utcDateToUtcString = (utcDate) => {\r\n\treturn utcDate.toISOString();\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const utcMsToLocalString = (utcDateMs) => {\r\n\tconst options = { year: 'numeric', month: 'short', day: 'numeric' };\r\n\treturn new Date(utcDateMs).toLocaleString('es-CO', options);\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const utcMsToUtcString = (utcDateMs) => {\r\n\treturn new Date(utcDateMs).toISOString();\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const firstAndLastDayOfMonth = (year, month) => {\r\n\tconst firstDay = utcDateConstructor(year, month - 1, 1);\r\n\tconst lastDay = utcDateConstructor(year, month, 0);\r\n\treturn {\r\n\t\tfirstDay: utcDateToUtcString(firstDay),\r\n\t\tlastDay: utcDateToUtcString(lastDay)\r\n\t};\r\n};\r\n\r\n/**\r\n * \r\n */\r\nexport const firstAndLastDayCurrentMonth = () => {\r\n\tconst today = new Date();\r\n\tconst firstDay = new Date(today.getFullYear(), today.getMonth(), 1, 0, 0, 0);\r\n\tconst lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0, 23, 59, 59);\r\n\treturn { firstDay, lastDay };\r\n};","export const expense_categories = [\r\n    {\r\n        id: 1,\r\n        name: 'Alojamiento',\r\n        color: '#C62828',\r\n        second_color: '#D32F2F',\r\n        third_color: '#FFCDD2',\r\n        icon: 'home-city-outline',\r\n        value: 0,\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Transporte',\r\n        color: '#00695C',\r\n        second_color: '#00796B',\r\n        third_color: '#B2DFDB',\r\n        icon: 'train-car',\r\n        value: 0,\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Facturas',\r\n        color: '#6A1B9A',\r\n        second_color: '#7B1FA2',\r\n        third_color: '#E1BEE7',\r\n        icon: 'file-document-outline',\r\n        value: 0,\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Gastos Personales',\r\n        color: '#1565C0',\r\n        second_color: '#1976D2',\r\n        third_color: '#BBDEFB',\r\n        icon: 'account-convert',\r\n        value: 0,\r\n    },\r\n    {\r\n        id: 5,\r\n        name: 'Comida',\r\n        color: '#FF8F00',\r\n        second_color: '#FFA000',\r\n        third_color: '#FFECB3',\r\n        icon: 'food-fork-drink',\r\n        value: 0,\r\n    },\r\n    {\r\n        id: 6,\r\n        name: 'Créditos',\r\n        color: '#4E342E',\r\n        second_color: '#5D4037',\r\n        third_color: '#D7CCC8',\r\n        icon: 'credit-card-multiple-outline',\r\n        value: 0,\r\n    },\r\n];\r\n\r\nexport const expense_concepts = [\r\n    {\r\n        id: 1,\r\n        category_id: 1,\r\n        name: 'Arriendo'\r\n    },\r\n    {\r\n        id: 2,\r\n        category_id: 1,\r\n        name: 'Mantenimiento'\r\n    },\r\n    {\r\n        id: 3,\r\n        category_id: 1,\r\n        name: 'Crédito Vivienda'\r\n    },\r\n    {\r\n        id: 4,\r\n        category_id: 1,\r\n        name: 'Hipoteca'\r\n    },\r\n    {\r\n        id: 5,\r\n        category_id: 1,\r\n        name: 'Impuestos'\r\n    },\r\n    {\r\n        id: 6,\r\n        category_id: 1,\r\n        name: 'Seguros'\r\n    },\r\n    {\r\n        id: 7,\r\n        category_id: 2,\r\n        name: 'Servicio Público'\r\n    },\r\n    {\r\n        id: 8,\r\n        category_id: 2,\r\n        name: 'Gasolina'\r\n    },\r\n    {\r\n        id: 9,\r\n        category_id: 2,\r\n        name: 'Mantenimiento'\r\n    },\r\n    {\r\n        id: 10,\r\n        category_id: 2,\r\n        name: 'Parqueaderos'\r\n    },\r\n    {\r\n        id: 11,\r\n        category_id: 2,\r\n        name: 'Peajes'\r\n    },\r\n    {\r\n        id: 12,\r\n        category_id: 2,\r\n        name: 'Crédito Vehiculo'\r\n    },\r\n    {\r\n        id: 13,\r\n        category_id: 2,\r\n        name: 'Impuestos'\r\n    },\r\n    {\r\n        id: 14,\r\n        category_id: 3,\r\n        name: 'Agua'\r\n    },\r\n    {\r\n        id: 15,\r\n        category_id: 3,\r\n        name: 'Energía'\r\n    },\r\n    {\r\n        id: 16,\r\n        category_id: 3,\r\n        name: 'Gas'\r\n    },\r\n    {\r\n        id: 17,\r\n        category_id: 3,\r\n        name: 'Internet Hogar'\r\n    },\r\n    {\r\n        id: 18,\r\n        category_id: 3,\r\n        name: 'Cable TV'\r\n    },\r\n    {\r\n        id: 19,\r\n        category_id: 3,\r\n        name: 'Operador Celular'\r\n    },\r\n    {\r\n        id: 20,\r\n        category_id: 4,\r\n        name: 'Entretenimiento'\r\n    },\r\n    {\r\n        id: 21,\r\n        category_id: 4,\r\n        name: 'Ropa y Zapatos'\r\n    },\r\n    {\r\n        id: 22,\r\n        category_id: 4,\r\n        name: 'Salud'\r\n    },\r\n    {\r\n        id: 23,\r\n        category_id: 4,\r\n        name: 'Vacaciones'\r\n    },\r\n    {\r\n        id: 24,\r\n        category_id: 4,\r\n        name: 'Servicio Streaming'\r\n    },\r\n    {\r\n        id: 25,\r\n        category_id: 4,\r\n        name: 'Gimnasio'\r\n    },\r\n    {\r\n        id: 26,\r\n        category_id: 4,\r\n        name: 'Cuidado Personal'\r\n    },\r\n    {\r\n        id: 27,\r\n        category_id: 5,\r\n        name: 'Mercado'\r\n    },\r\n    {\r\n        id: 28,\r\n        category_id: 5,\r\n        name: 'Restaurantes'\r\n    },\r\n    {\r\n        id: 29,\r\n        category_id: 5,\r\n        name: 'Domicilios'\r\n    },\r\n    {\r\n        id: 30,\r\n        category_id: 5,\r\n        name: 'Otro'\r\n    },\r\n    {\r\n        id: 31,\r\n        category_id: 6,\r\n        name: 'Estudio'\r\n    },\r\n    {\r\n        id: 32,\r\n        category_id: 6,\r\n        name: 'Consumo'\r\n    },\r\n    {\r\n        id: 33,\r\n        category_id: 6,\r\n        name: 'Comercial'\r\n    },\r\n    {\r\n        id: 34,\r\n        category_id: 6,\r\n        name: 'Hipotecario'\r\n    },\r\n];\r\n\r\n\r\n\r\nexport const housingConcepts = [\r\n    {\r\n        id: 1,\r\n        category_id: 1,\r\n        name: 'Arriendo'\r\n    },\r\n    {\r\n        id: 2,\r\n        category_id: 1,\r\n        name: 'Mantenimiento'\r\n    },\r\n    {\r\n        id: 3,\r\n        category_id: 1,\r\n        name: 'Crédito Vivienda'\r\n    },\r\n    {\r\n        id: 4,\r\n        category_id: 1,\r\n        name: 'Hipoteca'\r\n    },\r\n    {\r\n        id: 5,\r\n        category_id: 1,\r\n        name: 'Impuestos'\r\n    },\r\n    {\r\n        id: 6,\r\n        category_id: 1,\r\n        name: 'Seguros'\r\n    },\r\n];\r\nexport const transportConcepts = [\r\n    {\r\n        id: 7,\r\n        category_id: 2,\r\n        name: 'Servicio Público'\r\n    },\r\n    {\r\n        id: 8,\r\n        category_id: 2,\r\n        name: 'Gasolina'\r\n    },\r\n    {\r\n        id: 9,\r\n        category_id: 2,\r\n        name: 'Mantenimiento'\r\n    },\r\n    {\r\n        id: 10,\r\n        category_id: 2,\r\n        name: 'Parqueaderos'\r\n    },\r\n    {\r\n        id: 11,\r\n        category_id: 2,\r\n        name: 'Peajes'\r\n    },\r\n    {\r\n        id: 12,\r\n        category_id: 2,\r\n        name: 'Crédito Vehiculo'\r\n    },\r\n    {\r\n        id: 13,\r\n        category_id: 2,\r\n        name: 'Impuestos'\r\n    },\r\n];\r\nexport const billsConcepts = [\r\n    {\r\n        id: 14,\r\n        category_id: 3,\r\n        name: 'Agua'\r\n    },\r\n    {\r\n        id: 15,\r\n        category_id: 3,\r\n        name: 'Energía'\r\n    },\r\n    {\r\n        id: 16,\r\n        category_id: 3,\r\n        name: 'Gas'\r\n    },\r\n    {\r\n        id: 17,\r\n        category_id: 3,\r\n        name: 'Internet Hogar'\r\n    },\r\n    {\r\n        id: 18,\r\n        category_id: 3,\r\n        name: 'Cable TV'\r\n    },\r\n    {\r\n        id: 19,\r\n        category_id: 3,\r\n        name: 'Operador Celular'\r\n    },\r\n];\r\nexport const personalConcepts = [\r\n    {\r\n        id: 20,\r\n        category_id: 4,\r\n        name: 'Entretenimiento'\r\n    },\r\n    {\r\n        id: 21,\r\n        category_id: 4,\r\n        name: 'Ropa y Zapatos'\r\n    },\r\n    {\r\n        id: 22,\r\n        category_id: 4,\r\n        name: 'Salud'\r\n    },\r\n    {\r\n        id: 23,\r\n        category_id: 4,\r\n        name: 'Vacaciones'\r\n    },\r\n    {\r\n        id: 24,\r\n        category_id: 4,\r\n        name: 'Servicio Streaming'\r\n    },\r\n    {\r\n        id: 25,\r\n        category_id: 4,\r\n        name: 'Gimnasio'\r\n    },\r\n    {\r\n        id: 26,\r\n        category_id: 4,\r\n        name: 'Cuidado Personal'\r\n    },\r\n];\r\nexport const foodConcepts = [\r\n    {\r\n        id: 27,\r\n        category_id: 5,\r\n        name: 'Mercado'\r\n    },\r\n    {\r\n        id: 28,\r\n        category_id: 5,\r\n        name: 'Restaurantes'\r\n    },\r\n    {\r\n        id: 29,\r\n        category_id: 5,\r\n        name: 'Domicilios'\r\n    },\r\n    {\r\n        id: 30,\r\n        category_id: 5,\r\n        name: 'Otro'\r\n    },\r\n]; \r\nexport const creditConcepts = [\r\n    {\r\n        id: 31,\r\n        category_id: 6,\r\n        name: 'Estudio'\r\n    },\r\n    {\r\n        id: 32,\r\n        category_id: 6,\r\n        name: 'Consumo'\r\n    },\r\n    {\r\n        id: 33,\r\n        category_id: 6,\r\n        name: 'Comercial'\r\n    },\r\n    {\r\n        id: 34,\r\n        category_id: 6,\r\n        name: 'Hipotecario'\r\n    },\r\n];\r\n\r\n","import * as c from './Data';\r\n\r\nexport const structureExpenseConcepts = (expenseCategories, expenseConcepts) => {\r\n\t// const expenseConcepts = data.expenseConcepts;\r\n\t// const expenseCategories = data.expenseCategories;\r\n\tconst housingConcepts = []; const transportConcepts = []; const billsConcepts = [];\r\n\tconst personalConcepts = []; const foodConcepts = []; const creditConcepts = [];\r\n\tfor (let i = 0; i < expenseConcepts.length; i++) {\r\n\t\tswitch (expenseConcepts[i].category_id) {\r\n\t\t\tcase 1:\r\n\t\t\t\thousingConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tcase 2:\r\n\t\t\t\ttransportConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tcase 3:\r\n\t\t\t\tbillsConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tcase 4:\r\n\t\t\t\tpersonalConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tcase 5:\r\n\t\t\t\tfoodConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tcase 6:\r\n\t\t\t\tcreditConcepts.push(expenseConcepts[i]); break;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No match en switch -> structure Expense Concepts');\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\texpenseCategories: expenseCategories,\r\n\t\thousingConcepts: housingConcepts,\r\n\t\ttransportConcepts: transportConcepts,\r\n\t\tbillsConcepts: billsConcepts,\r\n\t\tpersonalConcepts: personalConcepts,\r\n\t\tfoodConcepts: foodConcepts,\r\n\t\tcreditConcepts: creditConcepts\r\n\t};\r\n};\r\n\r\nexport const structureUserExpenses = (expenseCategories, userExpenses, userBudgets) => {\r\n\r\n\tconst newExpCategories = [...expenseCategories];\r\n\r\n\tlet housingValue = 0; let transportValue = 0; let billsValue = 0;\r\n\tlet personalValue = 0; let foodValue = 0; let creditValue = 0;\r\n\r\n\tconst housingExpenses = []; const transportExpenses = []; const billsExpenses = [];\r\n\tconst personalExpenses = []; const foodExpenses = []; const creditExpenses = [];\r\n\tlet totalExpense = 0;\r\n\r\n\tfor (let i = 0; i < userExpenses.length; i++) {\r\n\t\ttotalExpense += userExpenses[i].value;\r\n\t\tswitch (userExpenses[i].category_id) {\r\n\t\t\tcase 1:\r\n\t\t\t\thousingExpenses.push(userExpenses[i]);\r\n\t\t\t\thousingValue = housingValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\ttransportExpenses.push(userExpenses[i]);\r\n\t\t\t\ttransportValue = transportValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tbillsExpenses.push(userExpenses[i]);\r\n\t\t\t\tbillsValue = billsValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tpersonalExpenses.push(userExpenses[i]);\r\n\t\t\t\tpersonalValue = personalValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tfoodExpenses.push(userExpenses[i]);\r\n\t\t\t\tfoodValue = foodValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tcreditExpenses.push(userExpenses[i]);\r\n\t\t\t\tcreditValue = creditValue += userExpenses[i].value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('ERROR: No hubo coincidendia armando  -> switch userExpenses: structureUserExpenses');\r\n\t\t}\r\n\t}\r\n\r\n\tfor (let k = 0; k < newExpCategories.length; k++) {\r\n\t\tswitch (newExpCategories[k].id) {\r\n\t\t\tcase 1:\r\n\t\t\t\tnewExpCategories[k].value = housingValue; break;\r\n\t\t\tcase 2:\r\n\t\t\t\tnewExpCategories[k].value = transportValue; break;\r\n\t\t\tcase 3:\r\n\t\t\t\tnewExpCategories[k].value = billsValue; break;\r\n\t\t\tcase 4:\r\n\t\t\t\tnewExpCategories[k].value = personalValue; break;\r\n\t\t\tcase 5:\r\n\t\t\t\tnewExpCategories[k].value = foodValue; break;\r\n\t\t\tcase 6:\r\n\t\t\t\tnewExpCategories[k].value = creditValue; break;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No match for each category Value');\r\n\t\t}\r\n\t\tnewExpCategories[k].budget = 0;\r\n\t\tnewExpCategories[k].budget_id = null;\r\n\t\tnewExpCategories[k].alert = false;\r\n\t\tconst budgetFound = userBudgets.find(budgetFound => budgetFound.category_id === newExpCategories[k].id);\r\n\t\tif (budgetFound) {\r\n\t\t\tnewExpCategories[k].budget = budgetFound.budget;\r\n\t\t\tnewExpCategories[k].budget_id = budgetFound.id;\r\n\t\t\tnewExpCategories[k].alert = Boolean(newExpCategories[k].budget > newExpCategories[k].value) || false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\ttotalExpense: totalExpense,\r\n\t\tcategoryExpenses: newExpCategories,\r\n\t\thousingExpenses: housingExpenses,\r\n\t\ttransportExpenses: transportExpenses,\r\n\t\tbillsExpenses: billsExpenses,\r\n\t\tpersonalExpenses: personalExpenses,\r\n\t\tfoodExpenses: foodExpenses,\r\n\t\tcreditExpenses: creditExpenses,\r\n\t};\r\n};\r\n\r\n// const convertArrayToObject = (array) => {\r\n// \tconst obj = array.reduce((accumulator, currentValue, index) => {\r\n// \t\taccumulator[index+1] = currentValue;\r\n// \t\treturn accumulator;\r\n// \t}, {});\r\n// \treturn obj;\r\n// \t// console.log(obj);\r\n// \t// console.log(obj[1]);\r\n// };\r\n\r\nexport const selectConceptsList = (categoryId) => {\r\n\tlet conceptsList;\r\n\tswitch (categoryId) {\r\n\t\tcase 1:\r\n\t\t\tconceptsList = c.housingConcepts; break;\r\n\t\tcase 2:\r\n\t\t\tconceptsList = c.transportConcepts; break;\r\n\t\tcase 3:\r\n\t\t\tconceptsList = c.billsConcepts; break;\r\n\t\tcase 4:\r\n\t\t\tconceptsList = c.personalConcepts; break;\r\n\t\tcase 5:\r\n\t\t\tconceptsList = c.foodConcepts; break;\r\n\t\tcase 6:\r\n\t\t\tconceptsList = c.creditConcepts; break;\r\n\t\tdefault:\r\n\t\t\tconceptsList = [];\r\n\t\t\tconsole.log('ERROR: no match en switch para definir conceptsList / Utils');\r\n\t\t//throw new Error('ERROR: no match en switch para definir conceptsList / Utils');\r\n\t}\r\n\treturn conceptsList;\r\n};\r\n\r\nexport const selectExpenseClass = (categoryId, expensesGroup) => {\r\n\tlet expenseClass;\r\n\tswitch (categoryId) {\r\n\t\tcase 1:\r\n\t\t\texpenseClass = expensesGroup.housingExpenses; break;\r\n\t\tcase 2:\r\n\t\t\texpenseClass = expensesGroup.transportExpenses; break;\r\n\t\tcase 3:\r\n\t\t\texpenseClass = expensesGroup.billsExpenses; break;\r\n\t\tcase 4:\r\n\t\t\texpenseClass = expensesGroup.personalExpenses; break;\r\n\t\tcase 5:\r\n\t\t\texpenseClass = expensesGroup.foodExpenses; break;\r\n\t\tcase 6:\r\n\t\t\texpenseClass = expensesGroup.creditExpenses; break;\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Error: no hubo match: Utils / selectExpenseClass');\r\n\t}\r\n\treturn expenseClass;\r\n};\r\n\r\nexport const selectCategory = (categoryId, categoryExpenses) => {\r\n\tconst currentCategory = categoryExpenses.find(currentCategory => currentCategory.id === categoryId);\r\n\tif (currentCategory) {\r\n\t\treturn currentCategory;\r\n\t}\r\n\telse {\r\n\t\tthrow new Error('currentCategory not found! -> no match with categoryId: Utils / selectCategory');\r\n\t}\r\n};\r\n\r\nexport const filterExpenses = (masterDataExpenses, filtersArray) => {\r\n\tif (filtersArray.length === 0) {\r\n\t\treturn masterDataExpenses;\r\n\t}\r\n\r\n\tconst byConcepts = (filterObject, currentData) => {\r\n\t\t// console.log('--- running byConcepts');\r\n\t\treturn currentData.filter((item) => {\r\n\t\t\tconst itemData = item.concept_id;\r\n\t\t\tconst filterData = filterObject.filter;\r\n\t\t\treturn itemData === filterData;\r\n\t\t});\r\n\t};\r\n\tconst byDateRange = (filterObject, currentData) => {\r\n\t\t// console.log('--- running byDateRange');\r\n\t\treturn currentData.filter((item) => {\r\n\t\t\tconst itemData = item.date;\r\n\t\t\tconst firstDateFilter = filterObject.filter[0];\r\n\t\t\tconst lastDateFilter = filterObject.filter[1];\r\n\t\t\treturn itemData > firstDateFilter && itemData < lastDateFilter;\r\n\t\t});\r\n\t};\r\n\tconst byDateOrder = (filterObject, currentData) => {\r\n\t\t// console.log('--- running byDateOrder');\r\n\t\tif (filterObject.filter === 'newest') {\r\n\t\t\treturn currentData.sort((a, b) => {\r\n\t\t\t\treturn b.date - a.date;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn currentData.sort((a, b) => {\r\n\t\t\treturn a.date - b.date;\r\n\t\t});\r\n\t};\r\n\tconst byValueRange = (filterObject, currentData) => {\r\n\t\tconst firstValue = filterObject.filter[0];\r\n\t\tconst lastValue = filterObject.filter[1];\r\n\t\t// console.log('--- running byValueRange');\r\n\t\tif (firstValue >= lastValue) {\r\n\t\t\tconsole.log('rango de valores no valido, retornando data sin este filtro');\r\n\t\t\t// return currentData;\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn currentData.filter((item) => {\r\n\t\t\tconst itemData = item.value;\r\n\t\t\treturn itemData >= firstValue && itemData <= lastValue;\r\n\t\t});\r\n\t};\r\n\tconst byValueOrder = (filterObject, currentData) => {\r\n\t\t// console.log('--- running byValueOrder');\r\n\t\tif (filterObject.filter === 'highest') {\r\n\t\t\treturn currentData.sort((a, b) => {\r\n\t\t\t\treturn b.value - a.value;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn currentData.sort((a, b) => {\r\n\t\t\treturn a.value - b.value;\r\n\t\t});\r\n\t};\r\n\r\n\tconst blankArray = [];\r\n\tconst copyMasterData = [...masterDataExpenses];\r\n\r\n\tlet filteredData = blankArray.concat(copyMasterData);\r\n\r\n\tfor (let i = 0; i < filtersArray.length; i++) {\r\n\t\tconst optionFilter = filtersArray.find(optionFilter => optionFilter.id === filtersArray[i].id);\r\n\t\tswitch (optionFilter.id) {\r\n\t\t\tcase 1:\r\n\t\t\t\tfilteredData = byConcepts(filtersArray[i], filteredData);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tfilteredData = byDateRange(filtersArray[i], filteredData);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tfilteredData = byDateOrder(filtersArray[i], filteredData);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tfilteredData = byValueRange(filtersArray[i], filteredData);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tfilteredData = byValueOrder(filtersArray[i], filteredData);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tfilteredData = masterDataExpenses;\r\n\t\t}\r\n\t}\r\n\treturn filteredData;\r\n};","import React from 'react';\r\nimport { View, StyleSheet, Platform } from 'react-native';\r\nimport { Modal, Portal, ActivityIndicator, Text } from 'react-native-paper';\r\n\r\nconst Loader = ({ loading }) => {\r\n\treturn (\r\n\r\n\t\t<Portal>\r\n\t\t\t<Modal \r\n\t\t\t\tvisible={loading} \r\n\t\t\t\tcontentContainerStyle={localStyles.modalContainer} \r\n\t\t\t\tdismissable={false}\r\n\t\t\t>\r\n\t\t\t\t<View style={{ justifyContent: 'center', alignItems: 'center' }} >\r\n\t\t\t\t\t<ActivityIndicator animating={true} color='black' size='small' />\r\n\t\t\t\t\t<Text style={{ fontWeight: 'bold', marginTop:4, letterSpacing:0.4 }}>\r\n\t\t\t\t\t\tCargando...\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t</Modal>\r\n\t\t</Portal>\r\n\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tmodalContainer: {\r\n\t\tbackgroundColor: '#FAFAFA', \r\n\t\tborderRadius:28, \t\t\r\n\t\twidth:89,\r\n\t\theight:88, \t\t\r\n\t\t//alignSelf:'center',\r\n\t\tborderWidth:0.4,\r\n\t\tborderColor:'grey',\r\n\t\t...Platform.select({\r\n\t\t\tweb:{\r\n\t\t\t\tmarginLeft:'50%'\r\n\t\t\t},\r\n\t\t\tandroid:{\r\n\t\t\t\talignSelf:'center'\r\n\t\t\t}\r\n\t\t})\r\n\t},\t\r\n});\r\n","import React from 'react';\r\nimport { TextInput, View } from 'react-native';\r\nimport NumberFormat from 'react-number-format';\r\n\r\n// value (number or string) - editable (boolean) - inputContainer (object style) - onChangeNumber (function)\r\n\r\nconst CurrencyInput = ({ value: number, editable, inputContainer, onChangeNumber, onChange, placeholder = '' }) => {\r\n\t// console.log('render:  C U R R E N C Y   I N P U T');\r\n\t\r\n\t//this way the multiple re-renders to update the screen occurs here, \r\n\t//which is a cheap process since this child component is not doing anything\r\n\t//const [num, setNum] = useState(initialNumber);\r\n\r\n\treturn (\r\n\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n\t\t\t\r\n\t\t\t<NumberFormat\r\n\t\t\t\tvalue={number === 0 ? '' : number} // triggers multiple renders in the father component \r\n\t\t\t\t//value={num === 0 ? '' : num}\r\n\t\t\t\tdisplayType={'text'}\r\n\t\t\t\tdecimalSeparator=','\r\n\t\t\t\tthousandSeparator='.'\r\n\t\t\t\tdecimalScale={2}\r\n\t\t\t\t//prefix={'$'}\t\t\r\n\t\t\t\t//suffix={' COP'}\t\t\t\t\t\r\n\t\t\t\trenderText={value => (\r\n\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\tinlineImageLeft='currency_sign'\r\n\t\t\t\t\t\teditable={editable}\r\n\t\t\t\t\t\tautoCorrect={false}\r\n\t\t\t\t\t\tautoCapitalize='none'\r\n\t\t\t\t\t\tautoCompleteType='off'\r\n\t\t\t\t\t\tunderlineColorAndroid='transparent'\r\n\t\t\t\t\t\tmaxLength={11} // (1)\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\teditable === false ?\r\n\t\t\t\t\t\t\t\t[inputContainer, { fontWeight: 'bold', color: 'black', backgroundColor: null, borderWidth: 0 }] :\r\n\t\t\t\t\t\t\t\tinputContainer\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tonChangeText={(text) => {\r\n\t\t\t\t\t\t\tconst mystring = text.replace(/\\./g, '');\r\n\t\t\t\t\t\t\t//const numberValue = Number(mystring);\r\n\t\t\t\t\t\t\treturn onChangeNumber(Number(mystring)); // triggers multiple renders in the father component\r\n\t\t\t\t\t\t\t//return setNum(number);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t//onEndEditing={() => onChangeNumber(num)} //this way only updates father component once\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tkeyboardType='numeric'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default CurrencyInput;\r\n\r\n/*\r\n (1) maxLength\r\n\t  postgreSQL integer -2147483648 to +2147483647 -> that is a 10 digit value\r\n\tplus 3 dots when the number is formatted while typing for a total length of 13\r\n\r\n\t<Text style={{ fontSize: 17, fontWeight: 'bold', marginRight: 5, color: 'black' }}>\r\n\t\t\t\t{`$`}\r\n\t\t\t</Text>\r\n*/","import React, { useState } from 'react';\r\nimport { View, FlatList, StyleSheet, Keyboard, Text, Platform } from 'react-native';\r\nimport { Menu, Divider } from 'react-native-paper';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport TouchableView from './TouchableView';\r\n\r\n//data - onClickItem --> ARE required\r\n// data, disabled and title are props that expects the component to re-render if its values changes\r\nconst DroplistMenu = ({ disabled, data, onClickItem, initialNumToRender = 10, title = 'elegir...', titleContainer, titleStyle,\r\n\ticon = 'chevron-down', color = 'blue', buttonStyle }) => {\r\n\r\n\t// console.log('render:  D R O P L I S T   M E N U');\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tconst itemPressed = (item) => {\r\n\t\tonClickItem(item);\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tKeyboard.dismiss();\r\n\t\tif (Platform.OS !== 'web') {\r\n\t\t\t//This is made in order to wait for the keyboard of the device to close, since the animation takes a few ms\r\n\t\t\t//then, after 8ms, the dropdown menu is opened and rendered in its correct place\t\t\t\r\n\t\t\treturn setTimeout(() => { setVisible(true); }, 8);\r\n\t\t}\r\n\t\treturn setVisible(true);\r\n\t};\r\n\r\n\tconst renderItems = ({ item }) => (\r\n\t\t<TouchableView onPress={() => itemPressed(item)}>\r\n\t\t\t<View style={{ margin: 8 }} >\r\n\t\t\t\t<Text style={{ color: 'black' }}>{(item.name).toUpperCase()}</Text>\r\n\t\t\t</View>\r\n\t\t</TouchableView>\r\n\t);\r\n\r\n\tconst staticTitle = () => \r\n\t\t<Text style={{ fontStyle: 'italic', color: disabled === true ? 'grey' : 'black' }}>Elegir...</Text>;\r\n\r\n\r\n\treturn (\r\n\t\t<View >\r\n\r\n\r\n\r\n\t\t\t<Menu\r\n\t\t\t\tstatusBarHeight={35}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonDismiss={() => setVisible(false)}\r\n\t\t\t\tanchor={\r\n\t\t\t\t\t<TouchableView\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tonPress={showModal}\r\n\t\t\t\t\t\tstyle={[localStyles.labelContainer, titleContainer, { backgroundColor: disabled === true ? '#F5F5F5' : 'white' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n\r\n\t\t\t\t\t\t\t<Text style={[localStyles.labelStyle, titleStyle]}>\r\n\t\t\t\t\t\t\t\t{title === '' ? staticTitle() : title.toUpperCase()}\r\n\t\t\t\t\t\t\t</Text>\r\n\r\n\t\t\t\t\t\t\t<View style={[localStyles.iconContainer, { backgroundColor: color}, buttonStyle]}>\r\n\t\t\t\t\t\t\t\t<MaterialCommunityIcons name='chevron-down' size={24} color='white'  />\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</View>\r\n\r\n\r\n\t\t\t\t\t</TouchableView>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tdata.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\tonPress={() => itemPressed(item)}\r\n\t\t\t\t\t\t\t\ttitle={item.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t// <Stack.Screen\r\n\t\t\t\t\t\t\t// \tkey={a.id}\r\n\t\t\t\t\t\t\t// \tname={a.name}\r\n\t\t\t\t\t\t\t// \tcomponent={a.component}\r\n\t\t\t\t\t\t\t// \toptions={a.options}\r\n\t\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\t\r\n\r\n\r\n\t\t\t\t{/* <View style={{ flex: 1, height: 180, width: 180, paddingTop: 0 }} >\r\n\t\t\t\t\t<FlatList\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\trenderItem={renderItems}\r\n\t\t\t\t\t\tkeyExtractor={item => (item.id).toString()}\r\n\t\t\t\t\t\tItemSeparatorComponent={() => <Divider />}\r\n\t\t\t\t\t\tinitialNumToRender={initialNumToRender}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View> */}\r\n\t\t\t</Menu>\r\n\t\t</View>\r\n\t);\r\n\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\t/*\r\n\treturn true if passing nextProps to render would return \r\n\tthe same result as passing prevProps to render,\r\n\totherwise return false\r\n\t*/\r\n\treturn prevProps.data === nextProps.data &&\r\n\t\tprevProps.title === nextProps.title &&\r\n\t\tprevProps.disabled === nextProps.disabled;\r\n};\r\n\r\nexport default React.memo(DroplistMenu, areEqual);\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tlabelContainer: {\r\n\t\tborderWidth: 1,\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\theight: 35,\r\n\t\twidth: 190,\r\n\t\tborderRightWidth: 0,\r\n\t\tborderColor: 'grey',\r\n\t\tborderRadius: 3,\r\n\t\tbackgroundColor: 'white',\t\t\r\n\t},\r\n\ticonContainer: {\r\n\t\theight: 35,\r\n\t\twidth: 30,\r\n\t\tborderWidth: 1,\r\n\t\tborderRadius: 3,\r\n\t\tborderColor: 'grey',\t\t\r\n\t\tborderBottomLeftRadius: 0,\r\n\t\tborderTopLeftRadius: 0,\t\t\t\t\r\n\t\tjustifyContent:'center',\r\n\t\talignItems:'center'\t\t\r\n\t},\r\n\tlabelStyle: {\r\n\t\ttextAlign:'center',\r\n\t\twidth: 160,\r\n\t\tcolor: 'black'\r\n\t}\r\n});\r\n","import React from 'react';\r\nimport { TextInput, View, StyleSheet } from 'react-native';\r\n\r\n// onChangeText - required\r\nconst StringInput = ({ value = '', onChangeText, placeholder = '', keyboardType = 'default', maxLength = 40, editable = true, inputStyle }) => {\r\n\t// console.log('render:  S T R I N G  I N P U T');\r\n\t//const [string, setString] = useState(value);\r\n\r\n\treturn (\r\n\t\t<View style={localStyles.container}>\r\n\t\t\t<TextInput\r\n\t\t\t\teditable={editable}\r\n\t\t\t\tautoCorrect={false}\r\n\t\t\t\tautoCompleteType='off'\r\n\t\t\t\tunderlineColorAndroid='transparent'\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tkeyboardType={keyboardType}\r\n\t\t\t\tmaxLength={maxLength}\r\n\t\t\t\tstyle={[localStyles.inputContainer, inputStyle]}\r\n\t\t\t\t//value={string}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChangeText={(text) => onChangeText(text)}\r\n\t\t\t\t//onChangeText={(text) => setString(text)}\r\n\t\t\t\t//onEndEditing={() => onChangeText(string)} //this way only updates father component once\r\n\t\t\t\t//onSubmitEditing={() => Keyboard.dismiss()}\r\n\t\t\t/>\r\n\t\t</View>\r\n\t);\r\n\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\t/*\r\n\treturn true if passing nextProps to render would return \r\n\tthe same result as passing prevProps to render,\r\n\totherwise return false\r\n\t*/\r\n\treturn prevProps.value === nextProps.value &&\r\n\t\tprevProps.editable === nextProps.editable;\r\n};\r\n\r\nexport default React.memo(StringInput, areEqual);\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tmarginTop: 0.5,\r\n\t\tmarginBottom: 0.5\r\n\t},\r\n\tinputContainer: {\r\n\t\twidth: 170,\r\n\t\theight: 34,\r\n\t\tborderWidth: 1,\r\n\t\tborderRadius: 3,\r\n\t\tborderColor: 'grey',\r\n\t\tpaddingBottom: 0,\r\n\t\tpaddingTop: 0,\r\n\t\tpaddingLeft: 8,\r\n\t\tfontSize: 18,\r\n\t\tbackgroundColor: 'white',\r\n\t\tletterSpacing: 0.6\r\n\t},\r\n});","import React, { useState, useCallback } from 'react';\r\nimport { StyleSheet } from 'react-native';\r\nimport { DatePickerModal } from 'react-native-paper-dates';\r\nimport { Button } from 'react-native-paper';\r\nimport { utcMsToLocalString, firstAndLastDayCurrentMonth } from '../commons/Utils';\r\n\r\n//date, onConfirm -> REQUIRED\r\n\r\nconst SingleDatePicker = ({ date, onConfirm, birthdate, containerStyle }) => {\r\n\r\n\tconst currentDate = birthdate ? new Date(2016, 1, 2) : new Date();\r\n\tconst { firstDay, lastDay } = firstAndLastDayCurrentMonth();\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst onDismissSingle = useCallback(() => {\r\n\t\tsetOpen(false);\r\n\t}, [setOpen]);\r\n\r\n\tconst onConfirmSingle = useCallback((params) => {\r\n\t\t// console.log(params.date); //Date object\r\n\t\t// console.log(params.date.getTime());  //Date ms\r\n\t\tsetOpen(false);\r\n\t\treturn onConfirm(params.date.getTime());\r\n\t}, [setOpen, onConfirm]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\ttheme={{ roundness: 3 }}\r\n\t\t\t\tcolor='white'\r\n\t\t\t\tonPress={() => setOpen(true)}\r\n\t\t\t\tuppercase={false}\r\n\t\t\t\tmode='contained'\r\n\t\t\t\tstyle={[localStyles.buttonContainer, containerStyle]}\r\n\t\t\t\tlabelStyle={{ marginTop: 7 }}\r\n\t\t\t>\r\n\t\t\t\t{date === null ? '-- / -- / --' : utcMsToLocalString(date)}\r\n\t\t\t</Button>\r\n\r\n\r\n\t\t\t<DatePickerModal\r\n\t\t\t\t// locale={'en'} optional, default: automatic\r\n\t\t\t\tmode='single'\r\n\t\t\t\tvisible={open}\r\n\t\t\t\tonDismiss={onDismissSingle}\r\n\t\t\t\tdate={currentDate}\r\n\t\t\t\tonConfirm={onConfirmSingle}\r\n\t\t\t\tvalidRange={{\r\n\t\t\t\t\tstartDate: birthdate ? new Date(1920, 1, 2) : firstDay,  // optional\r\n\t\t\t\t\tendDate: birthdate ? new Date(2016, 1, 2) : lastDay, // optional\r\n\t\t\t\t}}\r\n\t\t\t\t// onChange={} // same props as onConfirm but triggered without confirmed by user\r\n\t\t\t\tsaveLabel='Aceptar' // optional\r\n\t\t\t\tlabel='Seleccionar Fecha' // optional\r\n\t\t\t\t// animationType=\"slide\" // optional, default is 'slide' on ios/android and 'none' on web\t\t\t\t\r\n\t\t\t/>\r\n\r\n\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.date === nextProps.date;\r\n};\r\n\r\nexport default React.memo(SingleDatePicker, areEqual);\r\n\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tbuttonContainer: {\r\n\t\theight: 36,\r\n\t\twidth: 140,\r\n\t\tborderColor: 'grey',\r\n\t\tborderWidth: 0.4\r\n\t},\r\n});\r\n\r\n","import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n\r\nexport const getInternalStorage = async () => {\r\n    try {\r\n        const keys = ['userExpenses', 'userBudgets'];\r\n        const values = await AsyncStorage.multiGet(keys);\r\n        return {\r\n            userExpenses: JSON.parse(values[0][1]) === null ? [] : JSON.parse(values[0][1]),\r\n            userBudgets: JSON.parse(values[1][1]) === null ? [] : JSON.parse(values[1][1]),\r\n        };\r\n    }\r\n    catch (error) {\r\n        // handleStorageError('getInternalStorage', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const setStorageValue = async (key, value) => {\r\n    // key must be a string\r\n    try {\r\n        await AsyncStorage.setItem(key, JSON.stringify(value));\r\n    } catch (error) {\r\n        // save error\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getStorageValue = async (key) => {\r\n    // key must be a string\r\n    let jsonValue;\r\n    try {\r\n        jsonValue = await AsyncStorage.getItem(key);\r\n        if (jsonValue === null) {\r\n            jsonValue = [];\r\n        } else {\r\n            jsonValue = JSON.parse(jsonValue);\r\n        }\r\n        return jsonValue;\r\n        // return jsonValue !== null ? JSON.parse(jsonValue) : null\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const removeAllStorage = async () => {\r\n    const keys = ['userExpenses', 'userBudgets', 'storageMonth'];\r\n    try {\r\n        await AsyncStorage.multiRemove(keys)\r\n        console.log('all storage removed');\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const checkStorageDate = async (currentMonth) => {\r\n    // console.log(`current month: ${currentMonth}`);\r\n    try {\r\n        let storageMonth = await AsyncStorage.getItem('storageMonth');\r\n        if (storageMonth === null) {\r\n            // console.log('prevMonth not found on storage -> saving it');\r\n            return await AsyncStorage.setItem('storageMonth', currentMonth.toString());\r\n        } else {\r\n            // console.log(`prevMonth found: ${Number(storageMonth)}`);\r\n            if (currentMonth > Number(storageMonth)) {\r\n                // console.log('prevMonth expired');\r\n                await removeAllStorage();\r\n                return await AsyncStorage.setItem('storageMonth', currentMonth.toString());\r\n            }\r\n        }\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const updateExpenseStorage = async (action, expense) => {\r\n    let itemIdx;\r\n    const currentExpensesList = await getStorageValue('userExpenses');\r\n    switch (action) {\r\n        case 'PUT':\r\n            currentExpensesList.push(expense);\r\n            break;\r\n        case 'UPDATE':\r\n            itemIdx = currentExpensesList.findIndex(itemIdx => itemIdx.id === expense.id);\r\n            currentExpensesList.splice(itemIdx, 1, expense);\r\n            break;\r\n        case 'DELETE':\r\n            itemIdx = currentExpensesList.findIndex(itemIdx => itemIdx.id === expense.id);\r\n            currentExpensesList.splice(itemIdx, 1);\r\n            break;\r\n        default:\r\n            throw new Error('No action Match en updateExpenseStorage function');\r\n    }\r\n    await setStorageValue('userExpenses', currentExpensesList);\r\n};\r\n\r\nexport const updateBudgetStorage = async (action, budget) => {\r\n    let itemIdx;\r\n    const currentBudgetsList = await getStorageValue('userBudgets');\r\n    switch (action) {\r\n        case 'PUT':\r\n            currentBudgetsList.push(budget);\r\n            break;\r\n        case 'UPDATE':\r\n            itemIdx = currentBudgetsList.findIndex(itemIdx => itemIdx.id === budget.id);\r\n            currentBudgetsList.splice(itemIdx, 1, budget);\r\n            break;\r\n        default:\r\n            throw new Error('No action Match en updateBudgetStorage function');\r\n    }\r\n    await setStorageValue('userBudgets', currentBudgetsList);\r\n};\r\n\r\n\r\n\r\n","import React, { useRef, useState, useContext, useEffect } from 'react';\r\nimport { View, Keyboard, Platform } from 'react-native';\r\nimport { Portal, Modal, Subheading, IconButton, Button } from 'react-native-paper';\r\nimport { styles } from '../../../../utilities/commons/Styles';\r\nimport { utcMsToUtcString, randomInteger } from '../../../../utilities/commons/Utils';\r\nimport { selectConceptsList } from '../Utils';\r\nimport { AppContext } from '../../../../utilities/context/AppProvider';\r\nimport Loader from '../../../../utilities/components/Loader';\r\nimport CurrencyInput from '../../../../utilities/components/CurrencyInput';\r\nimport DroplistMenu from '../../../../utilities/components/DroplistMenu';\r\nimport StringInput from '../../../../utilities/components/StringInput';\r\nimport SingleDatePicker from '../../../../utilities/components/SingleDatePicker';\r\nimport { expense_categories } from '../Data';\r\nimport { updateExpenseStorage } from '../../../../utilities/commons/Storage';\r\n// import { putExpense, updateExpense, deleteExpense } from '../../../utilities/api/Budgets';\r\n\r\n\r\n// expenseInfo, selectedCategory, selectedClass ->\r\n// are required to update/delete expense - father comp already did the search to define these values.\r\n\r\nconst AddExpense = ({ visible, onHideModal, expenseInfo, selectedCategory, selectedClass }) => {\r\n\r\n\t// console.log('render: A D D   E X P E N S E');\r\n\tconst expenseCategories = expense_categories;\r\n\tconst { setExpensesGroup } = useContext(AppContext);\r\n\r\n\tconst refConceptList = useRef([]);\r\n\r\n\tconst initialState = {\r\n\t\tid: null,\r\n\t\tcategory_name: '', // not a field of the DB \r\n\t\tcategory_id: null,\r\n\t\tconcept_name: '', // not a field of the DB \r\n\t\tconcept_id: '',\r\n\t\tdescription: '',\r\n\t\tdate: new Date().getTime(),\r\n\t\tvalue: 0\r\n\t};\r\n\tconst [expense, setExpense] = useState(expenseInfo || initialState);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst onClickItemCategory = (item) => {\r\n\t\t//this logic assign an empty value to concept name if it has had already assigned a value,\r\n\t\t//because probably the user picks another category different to the first one chosen\r\n\t\tlet currentConceptName = expense.concept_name;\r\n\t\tif (expense.concept_name !== '') {\r\n\t\t\tcurrentConceptName = '';\r\n\t\t}\r\n\t\trefConceptList.current = selectConceptsList(item.id);\r\n\t\treturn setExpense(prevState => ({\r\n\t\t\t...prevState,\r\n\t\t\tcategory_name: item.name,\r\n\t\t\tcategory_id: item.id,\r\n\t\t\tconcept_name: currentConceptName\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onDismissKeyboard = () => {\r\n\t\tlet ms = 0;\r\n\t\t//This conditional must be done because if you omit this, on web you wont be able to focus the input\r\n\t\tif (Platform.OS !== 'web') {\r\n\t\t\tms = 5;\r\n\t\t\tKeyboard.dismiss();\r\n\t\t}\r\n\t\t//this timer is a way out to wait for the keyboard closing animation to end\r\n\t\treturn ms;\r\n\t};\r\n\r\n\tconst generateExpenseFields = () => {\r\n\t\tconst expenseDbFields = { ...expense };\r\n\t\t// delete those fields that do not belong to DB\r\n\t\tdelete expenseDbFields.category_name;\r\n\t\tdelete expenseDbFields.concept_name;\r\n\t\texpenseDbFields.date = utcMsToUtcString(expense.date);\r\n\t\treturn { expenseDbFields, expenseUiFields: expense };\r\n\t};\r\n\r\n\tconst callPutExpense = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst { expenseDbFields, expenseUiFields } = generateExpenseFields();\r\n\t\tdelete expenseDbFields.id;\r\n\t\t// expenseDbFields.date = utcMsToUtcString(expense.date); // date in ms to UTC format to be saved on db\r\n\t\t// putExpense(expenseDbFields)\r\n\t\t// \t.then((savedExpense) => {\r\n\t\t// \t\tconsole.log(JSON.stringify(savedExpense));\r\n\t\t// \t\tconst newExpense = { ...expenseUiFields, id: savedExpense.id };\r\n\t\t// \t\treturn setExpensesGroup({ type: 'PUT_EXPENSE', payload: newExpense });\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\talert(JSON.stringify(error));\r\n\t\t// \t})\r\n\t\t// \t.finally(() => {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\thandleOnDismiss();\r\n\t\t// \t});\r\n\r\n\t\tconst newExpense = { ...expenseUiFields, id: randomInteger(1, 999) };\r\n\r\n\t\tawait updateExpenseStorage('PUT', newExpense);\r\n\r\n\t\tsetExpensesGroup({ type: 'PUT_EXPENSE', payload: newExpense });\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t\thandleOnDismiss();\r\n\t\t}, 1000);\r\n\r\n\t};\r\n\r\n\tconst callUpdateExpense = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst { expenseDbFields, expenseUiFields } = generateExpenseFields();\r\n\t\t// updateExpense(expenseDbFields)\r\n\t\t// \t.then(() => {\r\n\t\t// \t\tconst payloadObj = {\r\n\t\t// \t\t\toldExpenseValue: expenseInfo.value, //expenseInfo comes as props, it is not directly modified\r\n\t\t// \t\t\tupdatedExpense: expenseUiFields,\r\n\t\t// \t\t\tselectedCategory: selectedCategory,\r\n\t\t// \t\t\tselectedClass: selectedClass\r\n\t\t// \t\t};\r\n\t\t// \t\tsetExpensesGroup({ type: 'UPDATE_EXPENSE', payload: payloadObj });\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\talert(JSON.stringify(error));\r\n\t\t// \t})\r\n\t\t// \t.finally(() => {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\thandleOnDismiss();\r\n\t\t// \t});\r\n\r\n\t\tawait updateExpenseStorage('UPDATE', expenseUiFields);\r\n\r\n\t\tconst payloadObj = {\r\n\t\t\toldExpenseValue: expenseInfo.value, //expenseInfo comes as props, it is not directly modified\r\n\t\t\tupdatedExpense: expenseUiFields,\r\n\t\t\tselectedCategory: selectedCategory,\r\n\t\t\tselectedClass: selectedClass\r\n\t\t};\r\n\t\tsetExpensesGroup({ type: 'UPDATE_EXPENSE', payload: payloadObj });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t\thandleOnDismiss();\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst callDeleteExpense = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst { expenseDbFields, expenseUiFields } = generateExpenseFields();\r\n\t\t// deleteExpense(expenseDbFields)\r\n\t\t// \t.then(() => {\r\n\t\t// \t\tconst payloadObj = {\r\n\t\t// \t\t\tdeletedExpense: expenseUiFields,\r\n\t\t// \t\t\tselectedCategory: selectedCategory,\r\n\t\t// \t\t\tselectedClass: selectedClass\r\n\t\t// \t\t};\r\n\t\t// \t\tsetExpensesGroup({ type: 'DELETE_EXPENSE', payload: payloadObj });\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\tconsole.log(error);\r\n\t\t// \t\talert('ERROR delete expense');\r\n\t\t// \t})\r\n\t\t// \t.finally(() => {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\thandleOnDismiss();\r\n\t\t// \t});\r\n\r\n\t\tawait updateExpenseStorage('DELETE', expenseUiFields);\r\n\r\n\t\tconst payloadObj = {\r\n\t\t\tdeletedExpense: expenseUiFields,\r\n\t\t\tselectedCategory: selectedCategory,\r\n\t\t\tselectedClass: selectedClass\r\n\t\t};\r\n\t\tsetExpensesGroup({ type: 'DELETE_EXPENSE', payload: payloadObj });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t\thandleOnDismiss();\r\n\t\t}, 1000);\r\n\t};\r\n\r\n\tconst onPressAccept = () => {\r\n\t\tconst ms = onDismissKeyboard();\r\n\t\t//this timer is a way out to wait for the keyboard closing animation to end\r\n\t\t//avoids weird jumps of the dropdown menus or loader comp if they are open\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (expenseInfo) {\r\n\t\t\t\treturn callUpdateExpense();\r\n\t\t\t}\r\n\t\t\treturn callPutExpense();\r\n\t\t}, ms);\r\n\t};\r\n\r\n\tconst onPressDelete = () => {\r\n\t\tconst ms = onDismissKeyboard();\r\n\t\tsetTimeout(() => {\r\n\t\t\treturn callDeleteExpense();\r\n\t\t}, ms);\r\n\t};\r\n\r\n\tconst handleOnDismiss = () => {\r\n\t\tsetExpense(initialState);\r\n\t\treturn onHideModal();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectedCategory) {\r\n\t\t\trefConceptList.current = selectConceptsList(selectedCategory.id);\r\n\t\t\tsetExpense(prevState => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\tcategory_name: selectedCategory.name,\r\n\t\t\t\tcategory_id: selectedCategory.id\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedCategory]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (expenseInfo) {\r\n\t\t\tsetExpense(prevState => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\t...expenseInfo\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [expenseInfo]);\r\n\r\n\treturn (\r\n\t\t<Portal>\r\n\t\t\t<Modal\r\n\t\t\t\tdismissable={true}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonDismiss={handleOnDismiss}\r\n\t\t\t\tcontentContainerStyle={styles.modalContainer}\r\n\t\t\t>\r\n\r\n\r\n\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t<Subheading style={styles.subheading}>Fecha de Registro</Subheading>\r\n\r\n\t\t\t\t\t<SingleDatePicker\r\n\t\t\t\t\t\tdate={expense.date}\r\n\t\t\t\t\t\tonConfirm={(newDate) => setExpense(prevState => ({ ...prevState, date: newDate }))}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t<Subheading style={styles.subheading}>Categoría</Subheading>\r\n\r\n\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n\r\n\t\t\t\t\t\t<DroplistMenu\r\n\t\t\t\t\t\t\ttitle={expense.category_name}\r\n\t\t\t\t\t\t\tdisabled={Boolean(selectedCategory)}\r\n\t\t\t\t\t\t\tdata={expenseCategories}\r\n\t\t\t\t\t\t\tonClickItem={onClickItemCategory}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t<Subheading style={styles.subheading}>Concepto</Subheading>\r\n\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n\r\n\t\t\t\t\t\t<DroplistMenu\r\n\t\t\t\t\t\t\ttitle={expense.concept_name}\r\n\t\t\t\t\t\t\tdisabled={!expense.category_name}\r\n\t\t\t\t\t\t\tdata={refConceptList.current}\r\n\t\t\t\t\t\t\tonClickItem={(item) =>\r\n\t\t\t\t\t\t\t\tsetExpense(prevState => ({\r\n\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\tconcept_name: item.name,\r\n\t\t\t\t\t\t\t\t\tconcept_id: item.id\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t<Subheading style={styles.subheading}>Valor Gastado</Subheading>\r\n\r\n\t\t\t\t\t<CurrencyInput\r\n\t\t\t\t\t\tvalue={expense.value}\r\n\t\t\t\t\t\tinputContainer={[styles.input, { width: 140 }]}\r\n\t\t\t\t\t\tonChangeNumber={(num) => setExpense(prevState => ({ ...prevState, value: num }))}\r\n\t\t\t\t\t\tplaceholder={'0.0...'}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<Subheading style={styles.subheading}>Descripción</Subheading>\r\n\r\n\t\t\t\t<StringInput\r\n\t\t\t\t\tvalue={expense.description}\r\n\t\t\t\t\tonChangeText={(text) => setExpense(prevState => ({ ...prevState, description: text }))}\r\n\t\t\t\t\tplaceholder={'Pago Arriendo del mes ...'}\r\n\t\t\t\t\tinputStyle={{ width: '100%' }}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<View style={{ flexDirection: 'row', justifyContent: 'space-around', alignItems: 'center', marginTop: 15 }} >\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\texpenseInfo && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\ticon='delete-forever'\r\n\t\t\t\t\t\t\t\tsize={28}\r\n\t\t\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\t\t\tonPress={onPressDelete}\r\n\t\t\t\t\t\t\t\tstyle={{ marginRight: 20 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\tonPress={handleOnDismiss}\r\n\t\t\t\t\t\tcolor='#546E7A'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdisabled={!expense.category_name || !expense.concept_name || !expense.value || !expense.date}\r\n\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\tonPress={onPressAccept}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{expenseInfo ? 'Editar' : 'Crear'} Gasto\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t</View>\r\n\t\t\t\t{\r\n\t\t\t\t\tloading && (\r\n\t\t\t\t\t\t<Loader loading={loading} />\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t</Modal>\r\n\t\t</Portal>\r\n\r\n\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.visible === nextProps.visible;\r\n};\r\n\r\nexport default React.memo(AddExpense, areEqual);\r\n\r\n/*\r\n<TouchableWithoutFeedback onPress={onDismissKeyboard} touchSoundDisabled={true}>\r\n</TouchableWithoutFeedback>\r\n\r\n\r\n<DateButton\r\n\tdate={expense.date}\r\n\tcontainerStyle={{ width: 150 }}\r\n\tonPress={() =>\r\n\t\tsetExpense({ type: 'DATE', payload: { date: expense.date, dateVisible: true } })\r\n\t}\r\n/>\r\n\r\n{\r\n\texpense.dateVisible && (\r\n\t\t<DateSelector\r\n\t\t\tvisible={expense.dateVisible}\r\n\t\t\tonHide={() => setExpense({ type: 'DATE', payload: { date: expense.date, dateVisible: false } })}\r\n\t\t\tonSelectedDate={(newDate) => setExpense({ type: 'DATE', payload: { date: newDate, dateVisible: false } })}\r\n\t\t/>\r\n\t)\r\n}\r\n*/","import React, { useState, useContext, useEffect } from 'react';\r\nimport { View } from 'react-native';\r\nimport { Portal, Modal, Subheading, Avatar, Title, Button, ProgressBar, Divider } from 'react-native-paper';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { AppContext } from '../../../../utilities/context/AppProvider';\r\nimport { randomInteger } from '../../../../utilities/commons/Utils';\r\nimport Loader from '../../../../utilities/components/Loader';\r\nimport CurrencyInput from '../../../../utilities/components/CurrencyInput';\r\nimport { styles } from '../../../../utilities/commons/Styles';\r\nimport { updateBudgetStorage } from '../../../../utilities/commons/Storage';\r\n\r\n\r\n\r\nconst AddBudget = ({ visible, onHideModal, category }) => {\r\n\r\n\t// console.log('render: A D D   B U D G E T');\r\n\t// console.log(category);\r\n\tconst { setExpensesGroup } = useContext(AppContext);\r\n\r\n\tconst [budget, setBudget] = useState(0);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\r\n\tconst setProgress = () => {\r\n\t\tlet barProgress = 0;\r\n\t\tlet labelProgress = '0%';\r\n\t\tlet iconBell = 'bell-remove-outline';\r\n\t\tlet alert = false;\r\n\r\n\t\tif (budget > category?.value) {\r\n\t\t\tbarProgress = category?.value / budget;\r\n\t\t\tlabelProgress = `${(barProgress * 100).toFixed(1)}%`;\r\n\t\t\talert = true;\r\n\t\t\ticonBell = 'bell-check';\r\n\t\t}\r\n\t\treturn { barProgress, labelProgress, alert, iconBell };\r\n\t};\r\n\r\n\tconst startBudgetOperation = () => {\r\n\t\tconst budgetFields = {\r\n\t\t\tcategory_id: category.id,\r\n\t\t\tbudget: budget,\r\n\t\t};\r\n\t\t//if there is a budget_id it means the user is updating an existing budget\r\n\t\tif (category.budget_id !== null) {\r\n\t\t\tbudgetFields.id = category.budget_id;\r\n\t\t\treturn callUpdateBudget(budgetFields);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbudgetFields.id = randomInteger(1, 999);\r\n\t\t\treturn callPutBudget(budgetFields);\r\n\t\t}\r\n\t};\r\n\r\n\tconst callPutBudget = async (budgetFields) => {\r\n\t\t// const selectedCategory = refCategoryData.current;\r\n\t\tsetLoading(true);\r\n\t\t// putBudget(budgetFields)\r\n\t\t// \t.then((newBudget) => {\r\n\t\t// \t\tconst updatedCategory = {\r\n\t\t// \t\t\t...category,\r\n\t\t// \t\t\tbudget_id: newBudget.id,\r\n\t\t// \t\t\tbudget: newBudget.budget,\r\n\t\t// \t\t\talert: true\r\n\t\t// \t\t};\r\n\t\t// \t\treturn setExpensesGroup({ type: 'UPDATE_CATEGORY', payload: updatedCategory });\r\n\t\t// \t\t// return updateCategoryExpenses(updatedCategory);\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\talert('error' + JSON.stringify(error));\r\n\t\t// \t})\r\n\t\t// \t.finally(() => {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\thandleOnDismiss();\r\n\t\t// \t});\r\n\t\tawait updateBudgetStorage('PUT', budgetFields);\r\n\r\n\t\tconst updatedCategory = {\r\n\t\t\t...category,\r\n\t\t\tbudget_id: randomInteger(1, 999),\r\n\t\t\tbudget: budget,\r\n\t\t\talert: true\r\n\t\t};\r\n\t\tsetExpensesGroup({ type: 'UPDATE_CATEGORY', payload: updatedCategory });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t\thandleOnDismiss();\r\n\t\t}, 1500);\r\n\t};\r\n\r\n\tconst callUpdateBudget = async (budgetFields) => {\r\n\t\tsetLoading(true);\r\n\t\t// updateBudget(budgetFields)\r\n\t\t// \t.then(() => {\r\n\t\t// \t\t// when updating -> the succesfull response from KNEX is 1, not returning the data\t\t\t\t\r\n\t\t// \t\tconst updatedCategory = {\r\n\t\t// \t\t\t...category,\r\n\t\t// \t\t\tbudget_id: budgetFields.id,\r\n\t\t// \t\t\tbudget: budgetFields.budget,\r\n\t\t// \t\t\talert: true\r\n\t\t// \t\t};\r\n\t\t// \t\treturn setExpensesGroup({ type: 'UPDATE_CATEGORY', payload: updatedCategory });\r\n\t\t// \t\t// return updateCategoryExpenses(updatedCategory);\r\n\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\talert('error' + JSON.stringify(error));\r\n\t\t// \t})\r\n\t\t// \t.finally(() => {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\thandleOnDismiss();\r\n\t\t// \t});\r\n\t\tawait updateBudgetStorage('UPDATE', budgetFields);\r\n\r\n\t\tconst updatedCategory = {\r\n\t\t\t...category,\r\n\t\t\tbudget_id: budgetFields.id,\r\n\t\t\tbudget: budgetFields.budget,\r\n\t\t\talert: true\r\n\t\t};\r\n\t\tsetExpensesGroup({ type: 'UPDATE_CATEGORY', payload: updatedCategory });\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t\thandleOnDismiss();\r\n\t\t}, 1500);\r\n\t};\r\n\r\n\tconst handleOnDismiss = () => {\r\n\t\tsetBudget(0);\r\n\t\treturn onHideModal();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (category) {\r\n\t\t\tsetBudget(category.budget);\r\n\t\t}\r\n\t}, [category]);\r\n\r\n\treturn (\r\n\t\t<Portal>\r\n\t\t\t<Modal\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonDismiss={handleOnDismiss}\r\n\t\t\t\tcontentContainerStyle={styles.modalContainer}\r\n\t\t\t>\r\n\t\t\t\t<View>\r\n\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', marginBottom: 10, alignItems: 'center' }}>\r\n\r\n\t\t\t\t\t\t<Avatar.Icon\r\n\t\t\t\t\t\t\ttheme={{ colors: { primary: category?.color } }}\r\n\t\t\t\t\t\t\tstyle={{ borderWidth: 1, borderColor: 'black', marginRight: 15 }}\r\n\t\t\t\t\t\t\tsize={50}\r\n\t\t\t\t\t\t\ticon={category?.icon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Title style={{ width: 230, letterSpacing: 1 }} >{category?.name.toUpperCase()} </Title>\r\n\r\n\r\n\t\t\t\t\t\t<MaterialCommunityIcons\r\n\t\t\t\t\t\t\tname={setProgress().iconBell}\r\n\t\t\t\t\t\t\tsize={32}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Divider inset={true} style={{ height: 1.5 }} />\r\n\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<Subheading style={styles.subheading}>Gasto Actual</Subheading>\r\n\r\n\t\t\t\t\t\t<CurrencyInput\r\n\t\t\t\t\t\t\tvalue={category?.value}\r\n\t\t\t\t\t\t\tinputContainer={styles.input}\r\n\t\t\t\t\t\t\teditable={false}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<Subheading style={styles.subheading}>Presupuesto</Subheading>\r\n\r\n\t\t\t\t\t\t<CurrencyInput\r\n\t\t\t\t\t\t\tvalue={budget}\r\n\t\t\t\t\t\t\tinputContainer={styles.input}\r\n\t\t\t\t\t\t\tonChangeNumber={setBudget}\r\n\t\t\t\t\t\t\tplaceholder={'0.0...'}\r\n\t\t\t\t\t\t// onChange={onRefChange}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<ProgressBar\r\n\t\t\t\t\t\t// visible={true}\r\n\t\t\t\t\t\tprogress={setProgress().barProgress}\r\n\t\t\t\t\t\tcolor={category?.second_color}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\tmarginBottom: 6,\r\n\t\t\t\t\t\t\theight: 8\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Subheading style={{ textAlign: 'center' }} >\r\n\t\t\t\t\t\tProgreso Presupuesto:{' '}\r\n\t\t\t\t\t\t<Title>{setProgress().labelProgress}</Title>\r\n\r\n\t\t\t\t\t</Subheading>\r\n\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', justifyContent: 'space-around', alignItems: 'center', marginTop: 15 }} >\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\tonPress={handleOnDismiss}\r\n\t\t\t\t\t\t\tcolor='#546E7A'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={!setProgress().alert}\r\n\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\tonPress={startBudgetOperation}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tloading && (\r\n\t\t\t\t\t\t\t<Loader loading={loading} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</View>\r\n\t\t\t</Modal>\r\n\t\t</Portal>\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.visible === nextProps.visible;\r\n};\r\n\r\nexport default React.memo(AddBudget, areEqual);\r\n\r\n\r\n","import React, { useCallback } from 'react';\r\nimport { View, Linking, Alert } from 'react-native';\r\nimport { Modal, Portal, Text, Button, Avatar, Paragraph } from 'react-native-paper';\r\nimport { styles } from '../commons/Styles';\r\n\r\n\r\n\r\nconst AboutMe = ({ visible, onDismiss }) => {\r\n\r\n    // 'https://santi1991.github.io/me'\r\n    const supportedURL = 'https://santi1991.github.io/me';\r\n\r\n    const handlePress = useCallback(async () => {\r\n\r\n        const supported = await Linking.canOpenURL(supportedURL);\r\n        if (supported) {\r\n            // Opening the link with some app, if the URL scheme is \"http\" the web link should be opened\r\n            // by some browser in the mobile\r\n            await Linking.openURL(supportedURL);\r\n        } else {\r\n            Alert.alert(`Don't know how to open this URL: ${supportedURL}`);\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <Portal>\r\n            <Modal\r\n                visible={visible}\r\n                onDismiss={onDismiss}\r\n                contentContainerStyle={[styles.modalContainer, { height: 220 }]}\r\n            >\r\n                    <View style={{ flexDirection: 'row', alignItems: 'center' }} >\r\n                        <Avatar.Image size={110} source={require('../../resources/images/avatar.png')} />\r\n                        <View style={{marginLeft:8, width:230}} >\r\n                            <Paragraph style={{textAlign:'center'}}>Hola Mundo!, Soy Santiago</Paragraph>\r\n                            <Text style={{textAlign:'center'}}>Recuerda, ningún dato que ingreses persiste en una DB.</Text>\r\n                            <Paragraph>santiago.marulandam@gmail.com</Paragraph>\r\n                        </View>\r\n\r\n                    </View>\r\n                    <View style={{ marginTop: 10, marginBottom: 10 }}>\r\n                        <Button icon='web' mode='contained' onPress={handlePress}>\r\n                            Ir a mi Sitio\r\n                        </Button>\r\n\r\n\r\n                    </View>\r\n\r\n            </Modal>\r\n        </Portal>\r\n    );\r\n};\r\n\r\nexport default AboutMe;","import React, { useState, useRef, useContext } from 'react';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport { AppContext } from '../../../utilities/context/AppProvider';\r\nimport ChartPie from './ChartPie';\r\nimport CategoryList from './CategoryList';\r\nimport HeaderBar from './HeaderBar';\r\nimport AddExpense from '../shared/components/AddExpense';\r\nimport AddBudget from '../shared/components/AddBudget';\r\nimport AboutMe from '../../../utilities/components/AboutMe';\r\n\r\nconst ExpenseScreen = ({ navigation, route }) => {\r\n\r\n    const { expensesGroup } = useContext(AppContext);\r\n\r\n    const refCategory = useRef(null);\r\n\r\n    const [addExpenseVisible, setAddExpenseVisible] = useState(false);\r\n    const showAddExpense = (category) => {\r\n        refCategory.current = category;\r\n        setAddExpenseVisible(true);\r\n    };\r\n    const hideAddExpense = () => {\r\n        refCategory.current = null;\r\n        setAddExpenseVisible(false);\r\n    };\r\n\r\n    const [addBudgetVisible, setAddBudgetVisible] = useState(false);\r\n    const showAddBudget = (category) => {\r\n        refCategory.current = category;\r\n        setAddBudgetVisible(true);\r\n    };\r\n    const hideAddBudget = () => {\r\n        refCategory.current = null;\r\n        setAddBudgetVisible(false);\r\n    };\r\n\r\n    const [aboutVisible, setAboutVisible] = useState(false);\r\n\tconst showAboutMe = () => setAboutVisible(true);\r\n\tconst hideAboutMe = () => setAboutVisible(false);\r\n\r\n    const toEditExpenses = (category) => {\r\n        if (category.value === 0) {\r\n            return alert('Aún no tienes datos registrados');\r\n        }\r\n        else {\r\n            return navigation.navigate('ExpenseDetailScreen', {\r\n            \tcategory: category,\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n\r\n            <HeaderBar\r\n\t\t\t\tshowAddExpense={showAddExpense}\r\n                showAboutMe={showAboutMe}\r\n\t\t\t/>\r\n\r\n            <ChartPie\r\n                {...expensesGroup}\r\n                showAddExpense={showAddExpense}\r\n            />\r\n\r\n            <CategoryList\r\n                {...expensesGroup}\r\n                toEditExpenses={toEditExpenses}\r\n                showAddExpense={showAddExpense}\r\n                showAddBudget={showAddBudget}\r\n            />\r\n\r\n            <AddExpense\r\n                visible={addExpenseVisible}\r\n                onHideModal={hideAddExpense}\r\n                selectedCategory={refCategory.current}\r\n            />\r\n\r\n            <AddBudget\r\n                visible={addBudgetVisible}\r\n                onHideModal={hideAddBudget}\r\n                category={refCategory.current}\r\n            // {...refCategory.current}\r\n            />\r\n            {\r\n\t\t\t\taboutVisible &&\r\n                    <AboutMe\r\n                        visible={aboutVisible}\r\n                        onDismiss={hideAboutMe}\r\n                    />\r\n\t\t\t}\r\n        \r\n        </View>\r\n    );\r\n};\r\n\r\nexport default ExpenseScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        // backgroundColor: '#fff',\r\n        // alignItems: 'center',\r\n        // justifyContent: 'center',\r\n    },\r\n});\r\n\r\n/*\r\n<Button icon=\"camera\" mode=\"contained\" onPress={() => console.log(randomInteger(1, 500))}>\r\n    Press me\r\n</Button>\r\n*/","import React from 'react';\r\nimport { StyleSheet, FlatList, View, Platform } from 'react-native';\r\nimport { Paragraph, Subheading } from 'react-native-paper';\r\nimport { utcMsToLocalString } from '../../../utilities/commons/Utils';\r\nimport FormatNumber from '../../../utilities/components/FormatNumber';\r\nimport TouchableView from '../../../utilities/components/TouchableView';\r\n\r\nconst ExpensesList = ({ list, onClickItem, color }) => {\r\n\r\n\t// console.log('render:  E X P E N S E S   L I S T');\r\n\t// const dimensions = useWindowDimensions(); // useWindowDimensions from react-native\r\n\t\t\t\t\r\n\tconst renderItem = ({ item }) => {\r\n\t\treturn (\r\n\t\t\t\t<TouchableView\r\n\t\t\t\t\tonPress={() => onClickItem(item)}\r\n\t\t\t\t\tstyle={[localStyles.itemContainer, { flex: Platform.OS === 'web' ? 0.3 : 0.5 }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<View style={[localStyles.itemHeader, { backgroundColor: color }]} >\r\n\t\t\t\t\t\t\t<Subheading style={{ color: 'white' }}>{item.concept_name}</Subheading>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View style={{ justifyContent: 'space-around', alignItems: 'center' }} >\r\n\t\t\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\t\t\t{item.date === null ? '-- / -- / --' : utcMsToLocalString(item.date)}\r\n\t\t\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t\t\t<Paragraph>{item.description}</Paragraph>\r\n\t\t\t\t\t\t\t<FormatNumber value={item.value} style={{ color: 'black' }} />\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t</>\r\n\r\n\t\t\t\t</TouchableView>\r\n\t\t\t\t\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View>\t\t\r\n\t\t\t<FlatList\r\n\t\t\t\tdata={list}\r\n\t\t\t\textraData={list}\r\n\t\t\t\trenderItem={renderItem}\r\n\t\t\t\tkeyExtractor={item => (item.id).toString()}\r\n\t\t\t\t// numColumns={dimensions.width >= 768 ? 3 : 2}\r\n\t\t\t\tnumColumns={Platform.OS === 'web' ? 3 : 2}\r\n\t\t\t\tListEmptyComponent={\r\n\t\t\t\t\t<Paragraph style={{ textAlign: 'center' }}>No se han encontrado resultados</Paragraph>\r\n\t\t\t\t}\r\n\t\t\t/>            \t\t\t\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.list === nextProps.list;\r\n};\r\n\r\nexport default React.memo(ExpensesList, areEqual);\r\n\r\nconst localStyles = StyleSheet.create({\t\r\n\titemContainer: {\r\n\t\theight: 110,\r\n\t\tmargin: 4,\r\n\t\tpadding: 4,\r\n\t\tborderRadius: 16,\r\n\t\tborderWidth: 0.5,\r\n\t\tborderColor: 'grey',\r\n\t\tbackgroundColor: '#F5F5F5',\r\n\t\televation: 5,\r\n\t},\r\n\titemHeader: {\r\n\t\theight: 25,\r\n\t\t// flexDirection: 'row',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\tborderWidth: 0.5,\r\n\t\tborderTopLeftRadius: 14,\r\n\t\tborderTopRightRadius: 14,\r\n\t\tborderBottomLeftRadius: 6,\r\n\t\tborderBottomRightRadius: 6\r\n\t},\t\r\n});\r\n\r\n{/* <TouchableHighlight\r\n\t\t\t\t\tactiveOpacity={0.6}\r\n\t\t\t\t\tunderlayColor='#DDDDDD'\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tonClickItem(item);\r\n\t\t\t\t\t\t//console.log(JSON.stringify(item));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<View style={[localStyles.itemHeader, { backgroundColor: color }]} >\r\n\t\t\t\t\t\t\t<Subheading style={{ color: 'white' }}>{item.concept_name}</Subheading>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View style={{ justifyContent: 'space-around', alignItems: 'center' }} >\r\n\t\t\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\t\t\t{item.date === null ? '-- / -- / --' : utcMsToLocalString(item.date)}\r\n\t\t\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t\t\t<Paragraph>{item.description}</Paragraph>\r\n\t\t\t\t\t\t\t<FormatNumber value={item.value} style={{ color: 'black' }} />\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t</>\r\n\t\t\t\t</TouchableHighlight> */}","import React from 'react';\r\nimport { StyleSheet, View, Platform } from 'react-native';\r\nimport { Surface, Text, Subheading, Avatar } from 'react-native-paper';\r\nimport FormatNumber from '../../../utilities/components/FormatNumber';\r\n\r\n\r\nconst ResumeProfile = ({ category, expenses, currentPeriod, totalExpense }) => {\r\n\r\n\tconst firstDay = currentPeriod.firstDay.getDate();\r\n\tconst lastDay = currentPeriod.lastDay.getDate();\r\n\tconst relatedMonth = currentPeriod.firstDay.getMonth() + 1;\r\n\tconst relatedYear = currentPeriod.lastDay.getFullYear();\r\n\r\n\treturn (\r\n\r\n\t\t<View style={localStyles.resumeContainer} >\r\n\r\n\t\t\t<Surface style={[localStyles.categorySurface, { backgroundColor: category.color }]}>\r\n\r\n\t\t\t\t<View style={localStyles.pairContainer} >\r\n\t\t\t\t\t<Avatar.Icon style={localStyles.categoryIcon} size={32} icon={category.icon} />\r\n\t\t\t\t\t<Subheading style={localStyles.textTitle}>\r\n\t\t\t\t\t\t{category.name.toUpperCase()}\r\n\t\t\t\t\t</Subheading>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={localStyles.pairContainer}>\r\n\t\t\t\t\t<Text style={localStyles.pairLabel}>\r\n\t\t\t\t\t\t# transacciones:\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<Text style={{ color: 'white', fontSize: 16 }}>\r\n\t\t\t\t\t\t{expenses.length}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={localStyles.pairContainer}>\r\n\t\t\t\t\t<Text style={localStyles.pairLabel}>\r\n\t\t\t\t\t\tPresupuesto:\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<FormatNumber value={category.budget} />\r\n\t\t\t\t</View>\r\n\r\n\t\t\t\t<View style={localStyles.pairContainer}>\r\n\t\t\t\t\t<Text style={localStyles.pairLabel}>\r\n\t\t\t\t\t\tGasto Total:\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<FormatNumber value={category.value} />\r\n\t\t\t\t</View>\r\n\r\n\t\t\t</Surface>\r\n\r\n\t\t\t<View>\r\n\r\n\t\t\t\t<Surface style={[localStyles.surface, { backgroundColor: category.third_color }]}>\r\n\t\t\t\t\t<Text style={{fontWeight:'bold'}}>Periodo</Text>\r\n\t\t\t\t\t<Text>{firstDay} - {lastDay} / {relatedMonth} / {relatedYear}</Text>\r\n\t\t\t\t</Surface>\r\n\r\n\t\t\t\t<Surface style={[localStyles.surface, { backgroundColor: category.third_color, marginTop: 8 }]}>\r\n\t\t\t\t\t<Text style={{fontWeight:'bold'}}>Gasto Global</Text>\r\n\t\t\t\t\t<FormatNumber\r\n\t\t\t\t\t\tvalue={totalExpense}\r\n\t\t\t\t\t\tstyle={{ color: 'black' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Surface>\r\n\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default ResumeProfile;\r\n\r\nconst localStyles = StyleSheet.create({\t\r\n\tresumeContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\t//alignItems: 'center',\r\n\t\tjustifyContent: Platform.OS === 'web' ? 'space-evenly' : 'space-around',\r\n\t\tmarginTop: 8,\r\n\t\tmarginBottom: 5\r\n\t},\r\n\tcategorySurface: {\r\n\t\tpadding: 5,\r\n\t\theight: 108,\r\n\t\twidth: Platform.OS === 'web' ? 345 : 235,\r\n\t\tjustifyContent: 'space-evenly',\r\n\t\televation: 4,\r\n\t},\r\n\ttextTitle: {\r\n\t\tcolor: 'white',\r\n\t\tfontWeight: 'bold',\r\n\t\tletterSpacing: 1,\r\n\t\tmarginLeft: 8\r\n\t},\r\n\tsurface: {\r\n\t\tpadding: 6,\r\n\t\theight: 50,\r\n\t\twidth: Platform.OS === 'web' ? 245 : 135,\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\televation: 4,\r\n\t},\r\n\tpairContainer: {\r\n\t\tflexDirection: 'row',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tpairLabel: {\r\n\t\tfontWeight:'bold',\r\n\t\tcolor: 'white',\r\n\t\tmarginRight: 7\r\n\t},\r\n\tcategoryIcon: {\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'white',\r\n\t},\r\n});","import React, { useRef, useState, useEffect } from 'react';\r\nimport { View, StyleSheet, Text } from 'react-native';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport TouchableView from './TouchableView';\r\n\r\n// values - required and in order from left to right\r\n// defaultValie - required\r\n// onSelect - required\r\nconst ButtonToggle = ({ values, defaultValue, onSelect, iconLeft = '', iconRight = '', activeColor = '#263238', inactiveColor = 'white',\r\n\ttitleLeft = '', titleRight = '', buttonContainer: boxContainer, labelStyle, spacing = 0 }) => {\r\n\r\n\t// console.log('render ButtonToggle'); \r\n\tconsole.log(defaultValue);\r\n\tconst leftValue = values[0];\r\n\tconst rightValue = values[1];\r\n\r\n\tconst refLeftPressed = useRef(false);\r\n\tconst refRightPressed = useRef(false);\r\n\r\n\tconst [render, setRender] = useState(false);\r\n\r\n\r\n\tconst leftButtonPressed = () => {\r\n\t\trefRightPressed.current = false;\r\n\t\trefLeftPressed.current = true;\r\n\t\t//setRender(!render);\r\n\t\treturn onSelect(leftValue);\r\n\t};\r\n\r\n\tconst rightButtonPressed = () => {\r\n\t\trefRightPressed.current = true;\r\n\t\trefLeftPressed.current = false;\r\n\t\t//setRender(!render);\r\n\t\treturn onSelect(rightValue);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (defaultValue) {\r\n\t\t\tswitch (defaultValue) {\r\n\t\t\t\tcase leftValue:\r\n\t\t\t\t\trefRightPressed.current = false;\r\n\t\t\t\t\trefLeftPressed.current = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase rightValue:\r\n\t\t\t\t\trefRightPressed.current = true;\r\n\t\t\t\t\trefLeftPressed.current = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tsetRender(!render);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\r\n\t\t<View style={localStyles.container}>\r\n\r\n\t\t\t<TouchableView\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tlocalStyles.buttonContainer,\r\n\t\t\t\t\tboxContainer,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tborderTopLeftRadius: 3,\r\n\t\t\t\t\t\tborderBottomLeftRadius: 3,\r\n\t\t\t\t\t\tbackgroundColor: !defaultValue || !refLeftPressed.current ? inactiveColor : activeColor,\r\n\t\t\t\t\t\tmarginRight: spacing * 0.5\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t\tonPress={leftButtonPressed}\r\n\t\t\t>\r\n\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }} >\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={[localStyles.label, labelStyle, { color: defaultValue === leftValue ? 'white' : 'black' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{titleLeft}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdefaultValue === leftValue && <MaterialCommunityIcons name={iconLeft} size={22} color='white' />\r\n\t\t\t\t\t}\r\n\t\t\t\t</View>\r\n\r\n\r\n\t\t\t</TouchableView>\r\n\r\n\t\t\t<TouchableView\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tlocalStyles.buttonContainer,\r\n\t\t\t\t\tboxContainer,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbackgroundColor: !defaultValue || !refRightPressed.current ? inactiveColor : activeColor,\r\n\t\t\t\t\t\tmarginLeft: spacing * 0.5,\r\n\t\t\t\t\t\tborderBottomRightRadius: 3,\r\n\t\t\t\t\t\tborderTopRightRadius: 3,\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t\tonPress={rightButtonPressed}\r\n\t\t\t>\r\n\t\t\t\t<View style={{ flexDirection: 'row', alignItems: 'center' }} >\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tstyle={[localStyles.label, labelStyle, { color: defaultValue === rightValue ? 'white' : 'black' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{titleRight}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdefaultValue === rightValue && <MaterialCommunityIcons name={iconRight} size={22} color='white' />\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</View>\r\n\r\n\r\n\t\t\t</TouchableView>\r\n\r\n\t\t</View>\r\n\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\r\n\treturn prevProps.defaultValue === nextProps.defaultValue;\r\n};\r\n\r\nexport default React.memo(ButtonToggle, areEqual);\r\n\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'center',\r\n\t\tmarginTop: 4,\r\n\t\tmarginBottom: 4\r\n\t},\r\n\tbuttonContainer: {\r\n\t\theight: 40,\r\n\t\twidth: 140,\r\n\t\tbackgroundColor: 'white',\r\n\t\tborderColor: 'grey',\r\n\t\tborderWidth: 1,\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tmarginLeft: 0,\r\n\t\tmarginRight: 0,\r\n\t\televation: 4\r\n\t},\r\n\tlabel: {\r\n\t\tmarginLeft: 3,\r\n\t\tmarginRight: 3,\r\n\t\tfontWeight: 'bold',\r\n\t\tletterSpacing: 1,\r\n\t\tcolor: 'black'\r\n\t}\r\n});\r\n\r\n","import React, { useState, useCallback } from 'react';\r\nimport { StyleSheet } from 'react-native';\r\nimport { Button } from 'react-native-paper';\r\nimport { utcMsToLocalString, firstAndLastDayCurrentMonth } from '../commons/Utils';\r\nimport { DatePickerModal } from 'react-native-paper-dates';\r\n\r\nconst RangeDatePicker = ({ startDate, endDate, onConfirm, containerStyle }) => {\r\n\r\n\tconst { firstDay, lastDay } = firstAndLastDayCurrentMonth();\r\n\r\n\t// const initialState = { \r\n\t// \tstartDate: null,\r\n\t// \tendDate: null\r\n\t// };\r\n\t// const [range, setRange] = useState(initialState);\r\n\t\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst onDismiss = useCallback(() => {\r\n\t\tsetOpen(false);\r\n\t}, [setOpen]);\r\n\r\n\tconst onConfirmRange = useCallback(({ startDate, endDate }) => {\r\n\t\tsetOpen(false);\r\n\t\tonConfirm(startDate.getTime(), endDate.getTime());\r\n\t\t// setRange(prevState => ({\r\n\t\t// \t...prevState,\r\n\t\t// \tstartDate: startDate,\r\n\t\t// \tendDate: endDate\r\n\t\t// }));\r\n\t}, [setOpen, onConfirm]);\r\n\r\n\treturn (\r\n\t\t<>\t\t\t\r\n\t\t\t<Button\r\n\t\t\t\tcolor='white'\r\n\t\t\t\tonPress={() => setOpen(true)}\r\n\t\t\t\tuppercase={false}\r\n\t\t\t\tmode='contained'\r\n\t\t\t\tstyle={[localStyles.buttonContainer, containerStyle]}\r\n\t\t\t\tlabelStyle={{ fontSize:12 }}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\t`${startDate === null ? '-- / -- / -- ' : utcMsToLocalString(startDate)}` + \r\n\t\t\t\t\t` to ` + \r\n\t\t\t\t\t`${endDate === null ? ' -- / -- / --' : utcMsToLocalString(endDate)}`\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</Button>\r\n\t\t\t{\r\n\t\t\t\topen && (\r\n\t\t\t\t\t<DatePickerModal\r\n                        // locale={'en'} optional, default: automatic\r\n\t\t\t\t\t\tmode='range'\r\n\t\t\t\t\t\tvisible={open}\r\n\t\t\t\t\t\tonDismiss={onDismiss}\r\n\t\t\t\t\t\tstartDate={firstDay}\r\n\t\t\t\t\t\tendDate={lastDay}\r\n\t\t\t\t\t\tonConfirm={onConfirmRange}\r\n                        // validRange={{\r\n                        //   startDate: new Date(2021, 1, 2),  // optional\r\n                        //   endDate: new Date(), // optional\r\n                        // }}\r\n                        // onChange={} // same props as onConfirm but triggered without confirmed by user\r\n                        // locale={'nl'} // optional\r\n\t\t\t\t\t\tsaveLabel='Aceptar' // optional\r\n\t\t\t\t\t\tlabel='Selecciona el Periodo' // optional\r\n\t\t\t\t\t\tstartLabel='Desde' // optional\r\n\t\t\t\t\t\tendLabel='Hasta' // optional\r\n                        // animationType=\"slide\" // optional, default is slide on ios/android and none on web\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\t\r\n\treturn prevProps.startDate === nextProps.startDate && prevProps.endDate === nextProps.endDate;\r\n};\r\n\r\nexport default React.memo(RangeDatePicker, areEqual);\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tbuttonContainer: {\r\n\t\theight: 36,\r\n\t\twidth: 160,\r\n\t\tborderColor: 'grey',\r\n\t\tborderWidth: 0.5\r\n\t},\r\n});","import React, { useState, useRef } from 'react';\r\nimport { View } from 'react-native';\r\nimport { Button, Dialog, Portal, Text, Divider, IconButton, Modal } from 'react-native-paper';\r\nimport { styles, colors } from '../../../utilities/commons/Styles';\r\nimport { filterExpenses } from '../shared/Utils';\r\nimport CurrencyInput from '../../../utilities/components/CurrencyInput';\r\nimport DroplistMenu from '../../../utilities/components/DroplistMenu';\r\nimport ButtonToggle from '../../../utilities/components/ButtonToggle';\r\nimport RangeDatePicker from '../../../utilities/components/RangeDatePicker';\r\n\r\n\r\nconst ExpensesFilter = ({ visible, onHideModal, onFilter, onClean, masterDataSource, conceptsList }) => {\r\n\t// console.log('render: EXPENSES FILTER');\r\n\r\n\tconst clearIcon = 'close-box-outline';\r\n\tconst [render, setRender] = useState(false); //trigge a rerender for the component if needed\r\n\r\n\tconst filterArray = useRef([]);\r\n\r\n\tconst addToFilterArray = (filterObject) => {\r\n\t\tconst idx = filterArray.current.findIndex(idx => idx.id === filterObject.id);\r\n\t\tif (idx > -1) {\r\n\t\t\tfilterArray.current.splice(idx, 1, filterObject);\r\n\t\t}\r\n\t\tfilterArray.current.push(filterObject);\r\n\t};\r\n\tconst deleteFromFilterArray = (id) => {\r\n\t\tconst idx = filterArray.current.findIndex(idx => idx.id === id);\r\n\t\tfilterArray.current.splice(idx, 1);\r\n\t};\r\n\r\n\t// --------------------------------------------------------------------\r\n\t//   -----  by  CONCEPT  ----- id: 1\r\n\t//*********************************************************************\r\n\tconst concept_name = useRef(''); // for UI purposes\r\n\tconst concept_id = useRef(null); //  ##*** search parameter -> number ***##\r\n\r\n\tconst onSelectConcept = (item) => {\r\n\t\tconcept_name.current = item.name;\r\n\t\tconcept_id.current = item.id;\r\n\t\tconst filterObject = { id: 1, filter: item.id };\r\n\t\taddToFilterArray(filterObject);\r\n\t\tsetRender(!render);\r\n\t};\r\n\tconst onCleanConcept = () => {\r\n\t\tdeleteFromFilterArray(1);\r\n\t\tconcept_name.current = '';\r\n\t\tconcept_id.current = null;\r\n\t\tsetRender(!render);\r\n\t};\r\n\t// --------------------------------------------------------------------\r\n\t//   -----  by  DATE RANGE  ----- id: 2\r\n\t//*********************************************************************\r\n\tconst initialDate = useRef(null); // ##*** search parameter -> number ***##\r\n\tconst finalDate = useRef(null); // ##*** search parameter -> number ***##\r\n\r\n\tconst selectedDate = (startDate, endDate) => {\r\n\t\tinitialDate.current = startDate;\r\n\t\tfinalDate.current = endDate;\r\n\t\tconst filterObject = {\r\n\t\t\tid: 2,\r\n\t\t\tfilter: [startDate, endDate]\r\n\t\t};\r\n\t\taddToFilterArray(filterObject);\r\n\t\tsetRender(!render);\r\n\t};\r\n\tconst onCleanDateRange = () => {\r\n\t\tdeleteFromFilterArray(2);\r\n\t\tinitialDate.current = null;\r\n\t\tfinalDate.current = null;\r\n\t\tsetRender(!render);\r\n\t};\r\n\t// --------------------------------------------------------------------\r\n\t//   -----  by  DATE ORDER  ----- id: 3\r\n\t//*********************************************************************\r\n\tconst [dateOrder, setDateOrder] = useState(null); // ##*** search parameter -> string ***##\r\n\tconst onSelectDateOrder = (parameter) => {\r\n\t\tconst filterObject = {\r\n\t\t\tid: 3,\r\n\t\t\tfilter: parameter\r\n\t\t};\r\n\t\taddToFilterArray(filterObject);\r\n\t\treturn setDateOrder(parameter); //param: 'newest'; to oldest --- param: 'oldest'; to newest \r\n\t};\r\n\tconst onCleanDateOrder = () => {\r\n\t\tdeleteFromFilterArray(3);\r\n\t\treturn setDateOrder(null);\r\n\t};\r\n\t// --------------------------------------------------------------------\r\n\t//   -----  by  VALUE RANGE  -----  id: 4\r\n\t//*********************************************************************\t\r\n\tconst [valueRange, setValueRange] = useState({\r\n\t\tfirstValue: 0,\r\n\t\tlastValue: 0\r\n\t}); // ##*** search parameter -> number ***##\r\n\tconst onSelectValueRange = (order, number) => {\r\n\t\tif (order === 'first') {\r\n\t\t\treturn setValueRange({ ...valueRange, firstValue: number });\r\n\t\t}\r\n\t\tconst filterObject = {\r\n\t\t\tid: 4,\r\n\t\t\tfilter: [valueRange.firstValue, number]\r\n\t\t};\r\n\t\taddToFilterArray(filterObject);\r\n\t\treturn setValueRange({ ...valueRange, lastValue: number });\r\n\t};\r\n\tconst onCleanValueRange = () => {\r\n\t\tdeleteFromFilterArray(4);\r\n\t\treturn setValueRange({ ...valueRange, firstValue: 0, lastValue: 0 });\r\n\t};\r\n\t// --------------------------------------------------------------------\t\r\n\t//   -----  by  VALUE ORDER  -----  id: 5\r\n\t//*********************************************************************\r\n\tconst [valueOrder, setValueOrder] = useState(null); // ##*** search parameter -> string ***##\r\n\tconst onSelectValueOrder = (parameter) => {\r\n\t\tconst filterObject = {\r\n\t\t\tid: 5,\r\n\t\t\tfilter: parameter\r\n\t\t};\r\n\t\taddToFilterArray(filterObject);\r\n\t\treturn setValueOrder(parameter); //param: 'highest'; to lowest --- param: 'lowest'; to highest \r\n\t};\r\n\tconst onCleanValueOrder = () => {\r\n\t\tdeleteFromFilterArray(5);\r\n\t\treturn setValueOrder(null);\r\n\t};\r\n\t// --------------------------------------------------------------------\t\r\n\t//*********************************************************************\r\n\r\n\tconst applyFilterOptions = () => {\r\n\t\t//const cloneMasterData = [...masterDataSource];\r\n\t\tconst filteredData = filterExpenses(masterDataSource, filterArray.current);\r\n\t\treturn onFilter(filteredData);\r\n\t};\r\n\r\n\tconst cleanFilterOptions = () => {\r\n\t\tconst cloneFilterArray = [...filterArray.current];\r\n\t\tfor (let i = 0; i < cloneFilterArray.length; i++) {\r\n\t\t\tconst optionFilter = cloneFilterArray.find(optionFilter => optionFilter.id === cloneFilterArray[i].id);\r\n\t\t\tswitch (optionFilter.id) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tonCleanConcept(); break;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tonCleanDateRange(); break;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tonCleanDateOrder(); break;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tonCleanValueRange(); break;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tonCleanValueOrder(); break;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tfilterArray.current = [];\r\n\t\t\t\t\tthrow new Error('No match en switch cleanFilterOptions');\r\n\t\t\t}\r\n\t\t}\r\n\t\t//return onClean();\r\n\t};\r\n\r\n\tconst closeFilterModal = () => {\r\n\t\treturn onHideModal();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Portal>\r\n\t\t\t<Modal\r\n\t\t\t\tdismissable={true}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonDismiss={closeFilterModal}\r\n\t\t\t\tcontentContainerStyle={[styles.modalContainer, { height: 400 }]}\r\n\t\t\t>\r\n\t\t\t\t<View>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<Text>Por Concepto</Text>\r\n\r\n\t\t\t\t\t\t<DroplistMenu\r\n\t\t\t\t\t\t\ttitle={concept_name.current}\r\n\t\t\t\t\t\t\tdata={conceptsList}\r\n\t\t\t\t\t\t\tonClickItem={onSelectConcept}\r\n\t\t\t\t\t\t\ttitleContainer={{ width: 155 }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={!concept_name.current}\r\n\t\t\t\t\t\t\ticon={clearIcon}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonPress={onCleanConcept}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Divider style={styles.dividerContainer} />\r\n\r\n\t\t\t\t\t<Text>Por Rango de Fecha</Text>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<RangeDatePicker\r\n\t\t\t\t\t\t\tstartDate={initialDate.current}\r\n\t\t\t\t\t\t\tendDate={finalDate.current}\r\n\t\t\t\t\t\t\tonConfirm={selectedDate}\r\n\t\t\t\t\t\t\tcontainerStyle={{ width: 300 }}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={!finalDate.current}\r\n\t\t\t\t\t\t\ticon={clearIcon}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonPress={onCleanDateRange}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Text>Por Orden de Fecha</Text>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<ButtonToggle\r\n\t\t\t\t\t\t\tactiveColor={colors.secondary}\r\n\t\t\t\t\t\t\tbuttonContainer={{ height: 35, width: 100 }}\r\n\t\t\t\t\t\t\ttitleLeft={'Reciente'}\r\n\t\t\t\t\t\t\ticonLeft='arrow-up'\r\n\t\t\t\t\t\t\ticonRight='arrow-up'\r\n\t\t\t\t\t\t\ttitleRight={'Antiguo'}\r\n\t\t\t\t\t\t\tspacing={10}\r\n\t\t\t\t\t\t\tvalues={['newest', 'oldest']}\r\n\t\t\t\t\t\t\tdefaultValue={dateOrder}\r\n\t\t\t\t\t\t\tonSelect={(val) => onSelectDateOrder(val)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={!dateOrder}\r\n\t\t\t\t\t\t\ticon={clearIcon}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonPress={onCleanDateOrder}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Divider style={styles.dividerContainer} />\r\n\r\n\t\t\t\t\t<Text>Por Valor</Text>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<CurrencyInput\r\n\t\t\t\t\t\t\tvalue={valueRange.firstValue}\r\n\t\t\t\t\t\t\tinputContainer={[styles.input, { width: 115 }]}\r\n\t\t\t\t\t\t\tonChangeNumber={(number) => onSelectValueRange('first', number)}\r\n\t\t\t\t\t\t\tplaceholder={'Min.'}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<CurrencyInput\r\n\t\t\t\t\t\t\tvalue={valueRange.lastValue}\r\n\t\t\t\t\t\t\tinputContainer={[styles.input, { width: 115 }]}\r\n\t\t\t\t\t\t\tonChangeNumber={(number) => onSelectValueRange('last', number)}\r\n\t\t\t\t\t\t\tplaceholder={'Max.'}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={!valueRange.lastValue || !valueRange.firstValue}\r\n\t\t\t\t\t\t\ticon={clearIcon}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonPress={onCleanValueRange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Text>Por Orden de Valor</Text>\r\n\r\n\t\t\t\t\t<View style={styles.modalPairContainer}>\r\n\r\n\t\t\t\t\t\t<ButtonToggle\r\n\t\t\t\t\t\t\tactiveColor={colors.secondary}\r\n\t\t\t\t\t\t\tbuttonContainer={{ height: 35, width: 110 }}\r\n\t\t\t\t\t\t\ticonLeft='arrow-up'\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttitleLeft={'De Mayor'}\r\n\t\t\t\t\t\t\ttitleRight={'De Menor'}\r\n\t\t\t\t\t\t\ticonRight='arrow-up'\r\n\t\t\t\t\t\t\tspacing={10}\r\n\t\t\t\t\t\t\tvalues={['highest', 'lowest']}\r\n\t\t\t\t\t\t\tdefaultValue={valueOrder}\r\n\t\t\t\t\t\t\tonSelect={(val) => onSelectValueOrder(val)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={!valueOrder}\r\n\t\t\t\t\t\t\ticon={clearIcon}\r\n\t\t\t\t\t\t\tcolor='black'\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tonPress={onCleanValueOrder}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</View>\r\n\r\n\t\t\t\t\t<Divider style={styles.dividerContainer} />\r\n\r\n\r\n\r\n\t\t\t\t\t<View style={{ flexDirection: 'row', justifyContent: 'space-around', alignItems: 'center', marginTop: 15 }}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tmode='text'\r\n\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\tonPress={closeFilterModal}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={!filterArray.current.length}\r\n\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\tcolor={'blue'}\r\n\t\t\t\t\t\t\tstyle={{ width: 100 }}\r\n\t\t\t\t\t\t\tonPress={cleanFilterOptions}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLimpiar\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// disabled={!filterArray.current.length}\r\n\t\t\t\t\t\t\tmode='contained'\r\n\t\t\t\t\t\t\tonPress={applyFilterOptions}\r\n\t\t\t\t\t\t\tstyle={{ width: 100 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tFiltrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</Modal>\r\n\t\t</Portal>\r\n\t);\r\n};\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n\treturn prevProps.visible === nextProps.visible;\r\n};\r\n\r\nexport default React.memo(ExpensesFilter, areEqual);\r\n\r\n","import React, { useState } from 'react';\r\nimport { StyleSheet, Platform } from 'react-native';\r\nimport { Appbar, Menu, Searchbar } from 'react-native-paper';\r\n\r\nconst HeaderBar = ({ color, navigation, filterFunction, masterDataSource, showFilter }) => {\r\n\r\n    const [menuVisible, setMenuVisible] = useState(false);\r\n    const openMenu = () => setMenuVisible(true);\r\n    const closeMenu = () => setMenuVisible(false);\r\n\r\n    const [search, setSearch] = useState('');\r\n    //const onChangeSearch = text => setSearch(text);\r\n\r\n    const searchDescriptionFilter = (text) => {\r\n        setSearch(text);\r\n        // Check if searched text is not blank\r\n        if (text) {\r\n            // Inserted text is not blank\r\n            // Filter the masterDataSource\r\n            // Update FilteredDataSource\r\n            const newData = masterDataSource.filter((item) => {\r\n                const itemData = item.description\r\n                    ? item.description.toUpperCase()\r\n                    : ''.toUpperCase();\r\n                const textData = text.toUpperCase();\r\n                return itemData.indexOf(textData) > -1;\r\n            });\r\n            return filterFunction(newData);\r\n        }\r\n        else {\r\n            // Inserted text is blank\r\n            // Update FilteredDataSource with masterDataSource\r\n            return filterFunction(masterDataSource);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Appbar.Header \r\n            theme={{ colors: { primary: color } }} \r\n            statusBarHeight={0} \r\n            style={{justifyContent: 'space-between'}}\r\n        >\r\n\r\n            <Appbar.BackAction onPress={navigation.goBack} />\r\n\r\n            {/* <Appbar.Content title=\"Title\" subtitle=\"Subtitle\" /> */}\r\n            <Searchbar\r\n                placeholder='Buscar...'\r\n                //onChangeText={onChangeSearch}\r\n                onChangeText={searchDescriptionFilter}\r\n                value={search}\r\n                style={styles.searchBarStyle}\r\n                inputStyle={{ paddingBottom: 0, paddingTop: 0 }}\r\n            />\r\n\r\n            <Appbar.Action icon='filter-outline' onPress={showFilter} />\r\n\r\n\r\n\r\n            <Menu\r\n                visible={menuVisible}\r\n                onDismiss={closeMenu}\r\n                anchor={\r\n                    <Appbar.Action disabled={true} icon='dots-vertical' color='white' onPress={openMenu}/>\r\n\r\n                }>\r\n                <Menu.Item\r\n                    onPress={() => alert('option1')}\r\n                    title='Presupuesto'\r\n                />\r\n                <Menu.Item\r\n                    onPress={() => alert('option3')}\r\n                    title='Reportes'\r\n                    // disabled \r\n                />\r\n                <Menu.Item\r\n                    onPress={() => alert('option2')}\r\n                    title='Ayuda...'\r\n                />\r\n            </Menu>\r\n\r\n\r\n        </Appbar.Header>\r\n    );\r\n};\r\nexport default HeaderBar;\r\n\r\nconst styles = StyleSheet.create({        \r\n    searchBarStyle: {\r\n        height: 35,               \r\n        width: Platform.OS === 'web' ? '45%' : 220\r\n    }\r\n});\r\n\r\n","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { StyleSheet, SafeAreaView, StatusBar } from 'react-native';\r\nimport { selectConceptsList, selectExpenseClass, selectCategory } from '../shared/Utils';\r\nimport { AppContext } from '../../../utilities/context/AppProvider';\r\nimport ExpensesList from './ExpensesList';\r\nimport AddExpense from '../shared/components/AddExpense';\r\nimport ResumeProfile from './ResumeProfile';\r\nimport ExpensesFilter from './ExpensesFilter';\r\n// import HeaderProfile from './HeaderProfile';\r\nimport HeaderBar from './HeaderBar';\r\n\r\n\r\n\r\nconst ExpenseDetailScreen = ({ navigation, route }) => {\r\n\r\n\t// console.log('render:  E X P E N S E   P R O F I L E');\r\n\tconst { expensesGroup } = useContext(AppContext);\r\n\r\n\tconst refFirstRender = useRef(true);\r\n\tconst refConceptsList = useRef([]);\r\n\tconst refExpense = useRef({}); // object or null\r\n\r\n\t// const initialState = {\r\n\t// \tcategory: route.params.category,\r\n\t// \texpenses: route.params.expenses,\r\n\t// \tfilteredExpenses: route.params.expenses\r\n\t// };\r\n\tconst initialState = {\r\n\t\tcategory: route.params.category, // decided to bring this with the params because its needed to render UI info the first time\t\t\r\n\t\texpenses: [],\r\n\t\tfilteredExpenses: []\r\n\t};\r\n\tconst [expenseData, setExpenseData] = useState(initialState);\r\n\r\n\tconst [addExpenseVisible, setAddExpenseVisible] = useState(false);\r\n\tconst showAddExpense = (expense) => {\r\n\t\trefExpense.current = expense;\r\n\t\tsetAddExpenseVisible(true);\r\n\t};\r\n\tconst hideAddExpense = () => {\r\n\t\trefExpense.current = null;\r\n\t\tsetAddExpenseVisible(false);\r\n\t};\r\n\r\n\tconst [filterVisible, setFilterVisible] = useState(false);\r\n\tconst showExpensesFilter = () => { return setFilterVisible(true); };\r\n\tconst hideExpensesFilter = () => { return setFilterVisible(false); };\r\n\r\n\r\n\tconst searchDescriptionFilter = (filteredArray) => {\r\n\t\tsetExpenseData({ ...expenseData, filteredExpenses: filteredArray });\r\n\t};\r\n\r\n\tconst applyFilterOptions = (filteredArray) => {\r\n\t\tsetExpenseData({ ...expenseData, filteredExpenses: filteredArray });\r\n\t\thideExpensesFilter();\r\n\t};\r\n\r\n\tconst eraseFilterOptions = () => {\r\n\t\tsetExpenseData({ ...expenseData, filteredExpenses: expenseData.expenses });\r\n\t\thideExpensesFilter();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (route.params?.category) {\r\n\t\t\trefConceptsList.current = selectConceptsList(route.params.category.id);\r\n\t\t\tconst currentExpenseClass = selectExpenseClass(route.params.category.id, expensesGroup);\r\n\t\t\t//const currentCategory = selectCategory(route.params.category.id, expensesGroup.categoryExpenses);\r\n\t\t\tsetExpenseData({\r\n\t\t\t\t...expenseData,\r\n\t\t\t\t//category: currentCategory, \r\n\t\t\t\texpenses: currentExpenseClass,\r\n\t\t\t\tfilteredExpenses: currentExpenseClass\r\n\t\t\t});\r\n\t\t}\r\n\t}, [route.params?.category]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (refFirstRender.current === true) {\r\n\t\t\trefFirstRender.current = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst currentCategory = selectCategory(route.params.category.id, expensesGroup.categoryExpenses);\r\n\t\tconst currentExpenseClass = selectExpenseClass(route.params.category.id, expensesGroup);\r\n\t\tsetExpenseData({\r\n\t\t\t...expenseData,\r\n\t\t\tcategory: currentCategory,\r\n\t\t\texpenses: currentExpenseClass,\r\n\t\t\tfilteredExpenses: currentExpenseClass\r\n\t\t});\r\n\t}, [expensesGroup]);\r\n\r\n\treturn (\r\n\t\t<SafeAreaView style={localStyles.container}>\r\n\r\n\t\t\t<StatusBar barStyle='light-content' backgroundColor={expenseData.category.color} animated={true} />\r\n\r\n\t\t\t{/* <HeaderProfile\r\n\t\t\t\tcolor={expenseData.category.color}\r\n\t\t\t\tnavigation={navigation}\r\n\t\t\t\tmasterDataSource={expenseData.expenses}\r\n\t\t\t\tfilterFunction={searchDescriptionFilter}\r\n\t\t\t\tshowFilter={showExpensesFilter}\r\n\t\t\t/> */}\r\n\r\n\t\t\t<HeaderBar \r\n\t\t\t\tcolor={expenseData.category.color}\r\n\t\t\t\tnavigation={navigation}\r\n\t\t\t\tmasterDataSource={expenseData.expenses}\r\n\t\t\t\tfilterFunction={searchDescriptionFilter}\r\n\t\t\t\tshowFilter={showExpensesFilter}\r\n\t\t\t/>\r\n\r\n\t\t\t<ResumeProfile\r\n\t\t\t\ttotalExpense={expensesGroup.totalExpense}\r\n\t\t\t\tcurrentPeriod={expensesGroup.currentPeriod}\r\n\t\t\t\tcategory={expenseData.category}\r\n\t\t\t\texpenses={expenseData.expenses}\r\n\t\t\t/>\r\n\r\n\t\t\t<ExpensesList\r\n\t\t\t\tlist={expenseData.filteredExpenses}\r\n\t\t\t\tonClickItem={showAddExpense}\r\n\t\t\t\tcolor={expenseData.category.color}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* THIS WAY THE STATE IS CLEANED WHEN THE MODAL IS CLOSED - NO NEED TO CLEAN THE STATE (rendered conditionally) */}\r\n\r\n\t\t\t<AddExpense\r\n\t\t\t\tvisible={addExpenseVisible}\r\n\t\t\t\texpenseInfo={refExpense.current}\r\n\t\t\t\tselectedCategory={expenseData.category}\r\n\t\t\t\tselectedClass={expenseData.expenses}\r\n\t\t\t\tonHideModal={hideAddExpense}\r\n\t\t\t/>\r\n\r\n\r\n\t\t\t{/* THIS WAY THE STATE IS NOT CLEANED WHEN THE MODAL IS CLOSED */}\r\n\t\t\t<ExpensesFilter\r\n\t\t\t\tvisible={filterVisible}\r\n\t\t\t\tonFilter={applyFilterOptions}\r\n\t\t\t\tonClean={eraseFilterOptions}\r\n\t\t\t\tonHideModal={hideExpensesFilter}\r\n\t\t\t\tmasterDataSource={expenseData.expenses}\r\n\t\t\t\tconceptsList={refConceptsList.current}\r\n\t\t\t/>\r\n\r\n\t\t</SafeAreaView>\r\n\t);\r\n};\r\n\r\nexport default ExpenseDetailScreen;\r\n\r\nconst localStyles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: 'white'\r\n\t},\r\n});\r\n\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Modal, Portal, Text, Provider, ActivityIndicator } from 'react-native-paper';\r\nimport { AppContext } from '../context/AppProvider';\r\nimport { getInternalStorage, checkStorageDate } from '../commons/Storage';\r\nimport { expense_categories, expense_concepts } from '../../views/expenses/shared/Data';\r\nimport { structureExpenseConcepts, structureUserExpenses } from '../../views/expenses/shared/Utils';\r\nimport { firstAndLastDayCurrentMonth } from '../../utilities/commons/Utils';\r\n\r\n\r\n\r\n\r\n// visible, splashScreen, loadScreen, onHide\r\nconst ResolveAppData = ({ visible, onHide }) => {\r\n\r\n    const { setAuthState, setExpensesGroup } = useContext(AppContext);\r\n\r\n    const containerStyle = { backgroundColor: 'white', padding: 20, height: '100%' };\r\n\r\n    const getUserData = async () => {\r\n        const { userExpenses, userBudgets } = await getInternalStorage();\r\n        return { userExpenses, userBudgets };\r\n    };\r\n\r\n    useEffect(() => {\r\n        const { firstDay, lastDay } = firstAndLastDayCurrentMonth();\r\n        // const expenseStaticData = structureExpenseConcepts(expense_categories, expense_concepts);\r\n        const currentMonth = firstDay.getMonth() + 1;\r\n        \r\n        checkStorageDate(currentMonth)\r\n            .then(() => {\r\n                // console.log('checkStorageDate finished');\r\n                getUserData()\r\n                    .then(response => {\r\n                        const expensesGroup = structureUserExpenses(expense_categories, response.userExpenses, response.userBudgets);\r\n                        expensesGroup.currentPeriod = { firstDay: firstDay, lastDay: lastDay };\r\n\r\n                        setTimeout(() => {\r\n                            setExpensesGroup({ type: 'INITIALIZE', payload: expensesGroup });\r\n                            setAuthState({ type: 'LOG_IN' });\r\n                        }, 1000);\r\n                    });\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <Provider>\r\n            <Portal>\r\n                <Modal\r\n                    visible={visible}\r\n                    dismissable={false}\r\n                    onDismiss={onHide}\r\n                    contentContainerStyle={containerStyle}\r\n                    style={{ marginTop: 0 }}\r\n                >\r\n                    <ActivityIndicator animating={true} color='red' size='large' />\r\n                    <Text style={{ textAlign: 'center', margin: 5 }} >Estamos organizando tus datos...</Text>\r\n                </Modal>\r\n            </Portal>\r\n        </Provider>\r\n    );\r\n};\r\n\r\nexport default ResolveAppData;\r\n\r\n\r\n// const userExpenses = [\r\n//     {\r\n//         id: 1,\r\n//         category_id: 1,\r\n//         concept_id: 1,\r\n//         value: 1100000,\r\n//         description: 'pago alquiler apto',\r\n//         date: 1626215119,\r\n//         category_name: 'Alojamiento', // join made in the query\r\n//         concept_name: 'Arriendo' // join made in the query\r\n//     },\r\n//     {\r\n//         id: 2,\r\n//         category_id: 1,\r\n//         concept_id: 1,\r\n//         value: 500000,\r\n//         description: 'pago alquiler airbnb',\r\n//         date: 1626215119,\r\n//         category_name: 'Alojamiento', // join made in the query\r\n//         concept_name: 'Servicio Público' // join made in the query\r\n//     },\r\n//     {\r\n//         id: 3,\r\n//         category_id: 2,\r\n//         concept_id: 7,\r\n//         value: 1000000,\r\n//         description: 'pago uber',\r\n//         date: 1626215119,\r\n//         category_name: 'Transporte', // join made in the query\r\n//         concept_name: 'Servicio Público' // join made in the query\r\n//     },\r\n//     {\r\n//         id: 4,\r\n//         category_id: 3,\r\n//         concept_id: 14,\r\n//         value: 1000000,\r\n//         description: 'pago agua',\r\n//         date: 1626215119,\r\n//         category_name: 'Facturas', // join made in the query\r\n//         concept_name: 'Agua' // join made in the query\r\n//     },\r\n//     // {\r\n//     //     id: 5,\r\n//     //     category_id: 4,\r\n//     //     concept_id: 20,\r\n//     //     value: 1000000,\r\n//     //     description: 'pago cine',\r\n//     //     date: 1626215119,\r\n//     //     category_name: 'Gastos Personales', // join made in the query\r\n//     //     concept_name: 'Entretenimiento' // join made in the query\r\n//     // },\r\n//     // {\r\n//     //     id: 6,\r\n//     //     category_id: 5,\r\n//     //     concept_id: 27,\r\n//     //     value: 1000000,\r\n//     //     description: 'pago mercado',\r\n//     //     date: 1626215119,\r\n//     //     category_name: 'Comida', // join made in the query\r\n//     //     concept_name: 'Mercado' // join made in the query\r\n//     // },\r\n//     // {\r\n//     //     id: 7,\r\n//     //     category_id: 6,\r\n//     //     concept_id: 31,\r\n//     //     value: 1000000,\r\n//     //     description: 'pago estudio',\r\n//     //     date: 1626215119,\r\n//     //     category_name: 'Créditos', // join made in the query\r\n//     //     concept_name: 'Estudio' // join made in the query\r\n//     // },\r\n// ];\r\n\r\n// const userBudgets = [\r\n//     {\r\n//         id: 1,\r\n//         category_id: 1,\r\n//         budget: 2000000\r\n//     }\r\n// ]; //id category_id  budgets","import React, { useState, useContext } from 'react';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport { ActivityIndicator } from 'react-native-paper';\r\nimport ResolveAppData from '../../utilities/components/ResolveAppData';\r\n\r\n\r\nconst SplashScreen = () => {\r\n\r\n    const [visible, setVisible] = useState(true);\r\n\t//const showModal = () => setVisible(true);\r\n\tconst hideModal = () => setVisible(false);\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <ActivityIndicator animating={true} color='red' size='large' />\r\n\r\n            {\r\n\t\t\t\tvisible && (\r\n\t\t\t\t\t<ResolveAppData \r\n\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t\tonHide={hideModal}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default SplashScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        // alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { AppContext } from '../../utilities/context/AppProvider';\r\nimport ExpenseScreen from '../expenses/main/ExpenseScreen';\r\nimport ExpenseDetailScreen from '../expenses/detail/ExpenseDetailScreen';\r\nimport SplashScreen from '../auth/SplashScreen';\r\n\r\nconst Stack = createStackNavigator();\r\n \r\nconst AppScreens = () => {\r\n\r\n    const { authState } = useContext(AppContext);\r\n\r\n    if (authState.isLoading === true) {\r\n\t\treturn <SplashScreen />;\r\n\t} \r\n    return (\r\n        <Stack.Navigator>\r\n            <Stack.Screen \r\n                name='ExpenseScreen' \r\n                component={ExpenseScreen} \r\n                options={{ headerShown: false }}\r\n            />\r\n            <Stack.Screen \r\n                name='ExpenseDetailScreen' \r\n                component={ExpenseDetailScreen} \r\n                options={{ headerShown: false }}\r\n            />\r\n        </Stack.Navigator>\r\n    );\r\n};\r\n\r\nexport default AppScreens;","import React from 'react';\r\nimport { StatusBar } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { PaperProvider, CombinedDefaultTheme, CombinedDarkTheme, colors } from '../../utilities/commons/Styles';\r\nimport AppScreens from './AppScreens';\r\n\r\nconst AppContainer = () => {\r\n    return (\r\n        <PaperProvider theme={CombinedDefaultTheme}>\r\n            <NavigationContainer theme={CombinedDefaultTheme}>\r\n                <StatusBar barStyle='light-content' animated={true} backgroundColor={colors.primary} />\r\n                <AppScreens />\r\n            </NavigationContainer>\r\n        </PaperProvider>\r\n    );\r\n};\r\n\r\nexport default AppContainer;\r\n\r\n","import React from 'react';\nimport { StatusBar } from 'react-native';\nimport AppContainer from './src/views/core/AppContainer';\n\nimport AppProvider from './src/utilities/context/AppProvider';\n\nconst App = () => {\n  return (\n    <AppProvider>\n        <AppContainer />\n    </AppProvider>\n  );\n};\n\nexport default App;\n\n","import 'react-native-gesture-handler';\nimport { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}