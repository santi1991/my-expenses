(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{268:function(e,t,n){e.exports=n(322)},312:function(e,t,n){e.exports=n.p+"static/media/avatar.ca01abb8.png"},322:function(e,t,n){"use strict";n.r(t);n(323);var r=n(333),a=n(0),o=n.n(a),i=n(43),c=n(331),l=n(5),s=n.n(l),u=n(2),d=n(8),m=n(153),p=n(330),f=n(74),g=n(100),b=n(188);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h="#263238",v="blue",x=E(E(E({},f.a),m.a),{},{colors:E(E(E({},f.a.colors),m.a.colors),{},{primary:h})}),w=(E(E(E({},g.a),p.a),{},{colors:E(E({},g.a.colors),p.a.colors)}),u.a.create({container:{flex:1,backgroundColor:"white"},dividerContainer:{height:1.5,marginBottom:3,marginTop:3},subheading:{fontWeight:"bold"},input:{width:170,height:34,borderWidth:1,borderRadius:3,borderColor:"grey",paddingBottom:0,paddingTop:0,paddingLeft:8,marginTop:2,fontSize:17,backgroundColor:"white",letterSpacing:.6},modalContainer:E({backgroundColor:"#FAFAFA",padding:12,borderRadius:16},d.a.select({android:{marginLeft:10,marginRight:10},web:{width:400,height:330,alignSelf:"center"}})),modalPairContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4,marginTop:4},labelContainer:{borderWidth:1,alignItems:"center",justifyContent:"center",height:35,width:160,borderRightWidth:0,borderColor:"grey",borderRadius:3,backgroundColor:"white",borderBottomRightRadius:0,borderTopRightRadius:0}})),C=n(332),O=n(10),P=n.n(O),j=n(16),S=n.n(j),D=n(17),k=n.n(D),_=function(e){return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.alert&&0!==e.budget){t.next=2;break}return t.abrupt("return",!1);case 2:if(!(!0===e.alert&&e.value>=e.budget)){t.next=5;break}return alert("Est\xe1s gastando de m\xe1s!\n\n\t\t\tHas pasado tu presupuesto de "+e.name.toUpperCase()+"!"),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),null,null,null,Promise)};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e,t){switch(t.type){case"LOG_IN":case"LOG_OUT":return T(T({},e),{},{isLoading:!1});case"OFFLINE":return T(T({},e),{},{isLoading:!1,isOffline:!0});default:return e}},A=function(e,t){var n=function(e){return e.map((function(e,t){return{value:e.value,svg:{name:e.name,fill:e.color,onPress:function(){return alert("press"+e.id)},onClick:function(){return alert("press"+e.id)}},key:"pie-"+e.id}}))},r=function(t){var n=e.categoryExpenses.findIndex((function(e){return e.id===t.id})),r=S()(e.categoryExpenses);return r.splice(n,1,t),r},a=function(e,t,n){var r=t.findIndex((function(e){return e.id===n.id})),a=S()(t);return"update"===e?a.splice(r,1,n):"delete"===e&&a.splice(r,1),a};switch(t.type){case"INITIALIZE":return T(T(T({},e),t.payload),{},{pieData:n(t.payload.categoryExpenses)});case"PUT_EXPENSE":return function(){var r=t.payload,a=S()(e.categoryExpenses),o=a.findIndex((function(e){return e.id===r.category_id})),i=T(T({},a[o]),{},{value:a[o].value+r.value}),c=_(i);i.alert=!0===c,a.splice(o,1,i);var l=T(T({},e),{},{totalExpense:e.totalExpense+r.value,categoryExpenses:a,pieData:n(a)}),s=[r];switch(r.category_id){case 1:return T(T({},l),{},{housingExpenses:[].concat(s,S()(e.housingExpenses))});case 2:return T(T({},l),{},{transportExpenses:[].concat(s,S()(e.transportExpenses))});case 3:return T(T({},l),{},{billsExpenses:[].concat(s,S()(e.billsExpenses))});case 4:return T(T({},l),{},{personalExpenses:[].concat(s,S()(e.personalExpenses))});case 5:return T(T({},l),{},{foodExpenses:[].concat(s,S()(e.foodExpenses))});case 6:return T(T({},l),{},{creditExpenses:[].concat(s,S()(e.creditExpenses))});default:throw new Error("No hubo match en switch --\x3e putExpense/Expenses reducer")}}();case"UPDATE_EXPENSE":return function(){var o=t.payload,i=o.oldExpenseValue,c=o.updatedExpense,l=o.selectedCategory,s=o.selectedClass,u=e.totalExpense,d=l.value,m=0;c.value>i?(m=c.value-i,u=e.totalExpense+m,d=l.value+m):c.value<i&&(m=i-c.value,u=e.totalExpense-m,d=l.value-m);var p=T(T({},l),{},{value:d}),f=_(p);p.alert=!0===f;var g=r(p),b=a("update",s,c),y=T(T({},e),{},{totalExpense:u,categoryExpenses:g,pieData:n(g)});switch(c.category_id){case 1:return T(T({},y),{},{housingExpenses:b});case 2:return T(T({},y),{},{transportExpenses:b});case 3:return T(T({},y),{},{billsExpenses:b});case 4:return T(T({},y),{},{personalExpenses:b});case 5:return T(T({},y),{},{foodExpenses:b});case 6:return T(T({},y),{},{creditExpenses:b});default:throw new Error("No hubo match en switch --\x3e updateExpense /-ExpenseGroup reducer")}}();case"DELETE_EXPENSE":return function(){var o=t.payload,i=o.deletedExpense,c=o.selectedCategory,l=o.selectedClass,s=T(T({},c),{},{value:c.value-i.value}),u=r(s),d=a("delete",l,i),m=T(T({},e),{},{totalExpense:e.totalExpense-i.value,categoryExpenses:u,pieData:n(u)});switch(i.category_id){case 1:return T(T({},m),{},{housingExpenses:d});case 2:return T(T({},m),{},{transportExpenses:d});case 3:return T(T({},m),{},{billsExpenses:d});case 4:return T(T({},m),{},{personalExpenses:d});case 5:return T(T({},m),{},{foodExpenses:d});case 6:return T(T({},m),{},{creditExpenses:d});default:throw new Error("No hubo match en switch --\x3e deleteExpense /-ExpenseGroup reducer")}}();case"UPDATE_CATEGORY":return T(T({},e),{},{categoryExpenses:r(t.payload)});default:throw new Error("No match de Action en switch -> expensesGroupReducer")}},F={isLoading:!0,isOffline:!1},L={currentPeriod:{},totalExpense:0,pieData:[],categoryExpenses:[],housingExpenses:[],transportExpenses:[],billsExpenses:[],personalExpenses:[],foodExpenses:[],creditExpenses:[]},B=Object(a.createContext)(),U=function(e){var t=e.children,n=Object(a.useReducer)(I,F),r=P()(n,2),i=r[0],c=r[1],l=Object(a.useReducer)(A,L),s=P()(l,2),u=s[0],d=s[1];return o.a.createElement(B.Provider,{value:{authState:i,setAuthState:c,expensesGroup:u,setExpensesGroup:d}},t)},N=n(64),z=n.n(N),W=n(1),G=n(28),M=n(245),V=n(20),H=n(193),J=n(194),X=n(103),Y=function(e){var t=e.disabled,n=e.onPress,r=e.style,a=e.children;return o.a.createElement(X.a,{disabled:t,activeOpacity:.6,underlayColor:"#DDDDDD",onPress:n,style:[Z.container,r]},a)},Z=u.a.create({container:{shadowColor:"#000",shadowOffset:{width:0,height:.6},shadowOpacity:.5,shadowRadius:1.5,elevation:"web"===d.a.OS?2:5}}),q=n(154),$=function(e){var t=e.value,n=e.style;return o.a.createElement(q.a,{value:t,renderText:function(e){return o.a.createElement(G.a,{style:[{color:"white",fontSize:17,letterSpacing:.5},n]},e)},displayType:"text",decimalScale:2,decimalSeparator:",",thousandSeparator:".",prefix:"$ "})},K=o.a.memo((function(e){var t=e.showAddExpense,n=e.totalExpense,r=e.pieData;return o.a.createElement(W.a,{style:{}},0===n?o.a.createElement(Y,{onPress:function(){return t(null)},style:[Q.startContainer,{backgroundColor:"black"}]},o.a.createElement(H.a,{style:{color:"white"}},"Comienza!"),o.a.createElement(J.a,{style:{color:"white",textAlign:"center"}},"Registra ","\n"," tu primer gasto")):o.a.createElement(M.a,{style:Q.pieChart,data:r,innerRadius:55,outerRadius:90,labelRadius:125},o.a.createElement((function(e){var t=e.slices;e.height,e.width;return t.map((function(e,t){e.labelCentroid;var r=e.pieCentroid,a=e.data,i=a.value/n*100,c=i.toFixed(1)+"%";return 0===a.value?null:o.a.createElement(V.Text,{key:t,x:r[0],y:r[1],fill:"white",textAnchor:"middle",alignmentBaseline:"middle",fontSize:13,fontWeight:"800",stroke:"black",strokeWidth:.2},i<9?"":c)}))}),null),o.a.createElement((function(e){return e.slices.map((function(e,t){var n,r,a=e.labelCentroid,i=e.pieCentroid,c=e.data;if(0!==c.value)return o.a.createElement(V.G,{key:c.key},o.a.createElement(V.Line,{x1:a[0],y1:a[1],x2:i[0],y2:i[1],stroke:c.svg.fill}),o.a.createElement(V.Text,{key:c.key,x:(n=a[0],r=c.svg.name,n<0&&n<-53?r.length>=10&&r.length<13?n-70:r.length>=13?n-118:n-55:n),y:a[1],fill:c.svg.fill},c.svg.name))}))}),null),o.a.createElement(V.ForeignObject,{x:-100,y:-18,width:100,height:100},o.a.createElement(W.a,{style:{alignItems:"center",width:200,height:400,transform:[]}},o.a.createElement(G.a,null,"Gasto Total"),o.a.createElement($,{value:n,style:{color:"black",fontSize:15}})))))}),(function(e,t){return e.totalExpense===t.totalExpense})),Q=u.a.create({pieChart:{height:300},fadingContainer:{},startContainer:{alignSelf:"center",height:150,width:150,justifyContent:"center",alignItems:"center",borderWidth:2,borderRadius:80,borderColor:"white",marginTop:"web"===d.a.OS?"4%":"10%",marginBottom:"web"===d.a.OS?"4%":"10%",elevation:5}}),ee=n(53),te=n(68),ne=n(195),re=n(25),ae=n(196),oe=n(197),ie=n(55),ce=n(246);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.category,n=e.onClick;return o.a.createElement(Y,{onPress:function(){return n(t)},style:[pe.buttonSyle,{backgroundColor:t.second_color}]},0===t.budget?o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},o.a.createElement(J.a,{style:{color:"white",flex:.9,textAlign:"center",fontWeight:"bold"}},"CREAR PRESUPUESTO"),o.a.createElement(ce.a,{name:"circle-edit-outline",size:22,color:"white"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},o.a.createElement(ne.a,{style:pe.textStyle},"Presupuesto"),o.a.createElement(ce.a,{name:"circle-edit-outline",size:20,color:"white"})),o.a.createElement($,{value:t.budget})))},de=function(e){var t=e.category,n=e.onClick;return o.a.createElement(Y,{onPress:function(){return n(t)},style:[pe.buttonSyle,{backgroundColor:t.second_color}]},0===t.value?o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},o.a.createElement(ne.a,{style:{color:"white",flex:.7,textAlign:"center",fontWeight:"bold"}},"NUEVO GASTO"),o.a.createElement(ce.a,{name:"plus-circle-outline",size:24,color:"white"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},o.a.createElement(ne.a,{style:pe.textStyle},"Gasto"),o.a.createElement(ce.a,{name:"plus-circle-outline",size:21,color:"white"})),o.a.createElement($,{value:t.value,style:{fontSize:17}})))},me=o.a.memo((function(e){var t=e.categoryExpenses,n=(e.totalExpense,e.toEditExpenses),r=e.showAddExpense,a=e.showAddBudget;Object(te.a)();return o.a.createElement(W.a,{style:pe.flatListContainer},o.a.createElement(ee.a,{data:t,extraData:t,renderItem:function(e){var t=e.item,i=function(){var e=0,n="0%";return t.budget>t.value&&(n=(100*(e=t.value/t.budget)).toFixed(1)+"%"),{barProgress:e,labelProgress:n}};return o.a.createElement(W.a,{style:pe.categoryView},o.a.createElement(Y,{onPress:function(){return n(t)},style:[pe.categoryContainer,{backgroundColor:t.color}]},o.a.createElement(W.a,{style:{flex:.15,alignItems:"center"}},o.a.createElement(re.a.Icon,{style:pe.avatarIcon,size:44,icon:t.icon})),o.a.createElement(W.a,{style:{flex:.74}},o.a.createElement(ae.a,{style:pe.titleStyle},t.name.toUpperCase()),o.a.createElement(W.a,{style:pe.buttonContainer},o.a.createElement(ue,{category:t,onClick:a}),o.a.createElement(de,{category:t,onClick:r})),0===t.budget?o.a.createElement(J.a,{style:{color:"white",fontStyle:"italic"}},"Agrega un presupuesto para ver el progreso"):o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{visible:t.budget>t.value||!1,progress:i().barProgress,color:t.third_color,style:pe.barStyle}),o.a.createElement(ie.a,{style:{color:"white"}},t.budget>t.value?"Progreso Presupuesto: "+i().labelProgress:"...debes actualizar tu presupuesto."))),o.a.createElement(W.a,{style:{flex:.11,alignItems:"center"}},o.a.createElement(ce.a,{name:"chevron-right",size:38,color:"white"}))))},keyExtractor:function(e){return e.id.toString()},numColumns:"web"===d.a.OS?2:1}))}),(function(e,t){return e.totalExpense===t.totalExpense&&e.categoryExpenses===t.categoryExpenses})),pe=u.a.create({flatListContainer:se({},d.a.select({web:{alignItems:"center",marginBottom:10},android:{height:"55%"}})),categoryView:se({},d.a.select({android:{backgroundColor:"#ECEFF1"}})),categoryContainer:se({flexDirection:"row",alignItems:"center",padding:2,elevation:5,height:135,borderWidth:.6,borderColor:"grey",borderRadius:22,marginTop:2,marginBottom:2,marginLeft:4,marginRight:4},d.a.select({web:{width:400}})),avatarIcon:{borderWidth:1,borderColor:"white"},titleStyle:{color:"white",fontWeight:"bold",letterSpacing:2,textAlign:"center"},textStyle:{marginRight:5,color:"white",fontWeight:"bold"},buttonContainer:{flexDirection:"row",justifyContent:"space-evenly",marginTop:2,marginBottom:4},buttonSyle:{flex:.46,height:55,alignItems:"center",justifyContent:"center",borderWidth:.3,borderColor:"grey",borderRadius:8,padding:1},barStyle:{marginTop:5,marginBottom:5,height:6}}),fe=n(207),ge=n(198),be=function(e){var t=e.showAddExpense,n=e.showAboutMe,r=Object(a.useState)(!1),i=P()(r,2),c=i[0],l=i[1];return o.a.createElement(fe.a.Header,{statusBarHeight:0},o.a.createElement(fe.a.Content,{title:"Gastos",subtitle:"Registra tus gastos"}),o.a.createElement(fe.a.Action,{icon:"face-recognition",onPress:n}),o.a.createElement(fe.a.Action,{icon:"plus",onPress:function(){return t(null)}}),o.a.createElement(ge.a,{visible:c,onDismiss:function(){return l(!1)},anchor:o.a.createElement(fe.a.Action,{disabled:!0,icon:"dots-vertical",color:"white",onPress:function(){return l(!0)}})},o.a.createElement(ge.a.Item,{onPress:function(){return console.log("option1")},title:"Presupuesto"}),o.a.createElement(ge.a.Item,{onPress:function(){return console.log("option3")},title:"Reportes"}),o.a.createElement(ge.a.Item,{onPress:function(){return console.log("option2")},title:"Ayuda..."})))},ye=n(59),Ee=n(145),he=n(199),ve=n(76),xe=n(200),we=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Ce=function(e){return new Date(e).toLocaleString("es-CO",{year:"numeric",month:"short",day:"numeric"})},Oe=function(){var e=new Date;return{firstDay:new Date(e.getFullYear(),e.getMonth(),1,0,0,0),lastDay:new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59)}},Pe=[{id:1,name:"Alojamiento",color:"#C62828",second_color:"#D32F2F",third_color:"#FFCDD2",icon:"home-city-outline",value:0},{id:2,name:"Transporte",color:"#00695C",second_color:"#00796B",third_color:"#B2DFDB",icon:"train-car",value:0},{id:3,name:"Facturas",color:"#6A1B9A",second_color:"#7B1FA2",third_color:"#E1BEE7",icon:"file-document-outline",value:0},{id:4,name:"Gastos Personales",color:"#1565C0",second_color:"#1976D2",third_color:"#BBDEFB",icon:"account-convert",value:0},{id:5,name:"Comida",color:"#FF8F00",second_color:"#FFA000",third_color:"#FFECB3",icon:"food-fork-drink",value:0},{id:6,name:"Cr\xe9ditos",color:"#4E342E",second_color:"#5D4037",third_color:"#D7CCC8",icon:"credit-card-multiple-outline",value:0}],je=[{id:1,category_id:1,name:"Arriendo"},{id:2,category_id:1,name:"Mantenimiento"},{id:3,category_id:1,name:"Cr\xe9dito Vivienda"},{id:4,category_id:1,name:"Hipoteca"},{id:5,category_id:1,name:"Impuestos"},{id:6,category_id:1,name:"Seguros"}],Se=[{id:7,category_id:2,name:"Servicio P\xfablico"},{id:8,category_id:2,name:"Gasolina"},{id:9,category_id:2,name:"Mantenimiento"},{id:10,category_id:2,name:"Parqueaderos"},{id:11,category_id:2,name:"Peajes"},{id:12,category_id:2,name:"Cr\xe9dito Vehiculo"},{id:13,category_id:2,name:"Impuestos"}],De=[{id:14,category_id:3,name:"Agua"},{id:15,category_id:3,name:"Energ\xeda"},{id:16,category_id:3,name:"Gas"},{id:17,category_id:3,name:"Internet Hogar"},{id:18,category_id:3,name:"Cable TV"},{id:19,category_id:3,name:"Operador Celular"}],ke=[{id:20,category_id:4,name:"Entretenimiento"},{id:21,category_id:4,name:"Ropa y Zapatos"},{id:22,category_id:4,name:"Salud"},{id:23,category_id:4,name:"Vacaciones"},{id:24,category_id:4,name:"Servicio Streaming"},{id:25,category_id:4,name:"Gimnasio"},{id:26,category_id:4,name:"Cuidado Personal"}],_e=[{id:27,category_id:5,name:"Mercado"},{id:28,category_id:5,name:"Restaurantes"},{id:29,category_id:5,name:"Domicilios"},{id:30,category_id:5,name:"Otro"}],Re=[{id:31,category_id:6,name:"Estudio"},{id:32,category_id:6,name:"Consumo"},{id:33,category_id:6,name:"Comercial"},{id:34,category_id:6,name:"Hipotecario"}],Te=function(e){var t;switch(e){case 1:t=je;break;case 2:t=Se;break;case 3:t=De;break;case 4:t=ke;break;case 5:t=_e;break;case 6:t=Re;break;default:t=[],console.log("ERROR: no match en switch para definir conceptsList / Utils")}return t},Ie=function(e,t){var n;switch(e){case 1:n=t.housingExpenses;break;case 2:n=t.transportExpenses;break;case 3:n=t.billsExpenses;break;case 4:n=t.personalExpenses;break;case 5:n=t.foodExpenses;break;case 6:n=t.creditExpenses;break;default:throw new Error("Error: no hubo match: Utils / selectExpenseClass")}return n},Ae=function(e,t){if(0===t.length)return e;for(var n=S()(e),r=[].concat(n),a=function(n){var a;switch(t.find((function(e){return e.id===t[n].id})).id){case 1:a=t[n],r=r.filter((function(e){return e.concept_id===a.filter}));break;case 2:r=function(e,t){return t.filter((function(t){var n=t.date,r=e.filter[0],a=e.filter[1];return n>r&&n<a}))}(t[n],r);break;case 3:r=function(e,t){return"newest"===e.filter?t.sort((function(e,t){return t.date-e.date})):t.sort((function(e,t){return e.date-t.date}))}(t[n],r);break;case 4:r=function(e,t){var n=e.filter[0],r=e.filter[1];return n>=r?(console.log("rango de valores no valido, retornando data sin este filtro"),[]):t.filter((function(e){var t=e.value;return t>=n&&t<=r}))}(t[n],r);break;case 5:r=function(e,t){return"highest"===e.filter?t.sort((function(e,t){return t.value-e.value})):t.sort((function(e,t){return e.value-t.value}))}(t[n],r);break;default:r=e}},o=0;o<t.length;o++)a(o);return r},Fe=n(141);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Be=function(e){var t=e.loading;return o.a.createElement(Ee.a,null,o.a.createElement(he.a,{visible:t,contentContainerStyle:Ue.modalContainer,dismissable:!1},o.a.createElement(W.a,{style:{justifyContent:"center",alignItems:"center"}},o.a.createElement(Fe.a,{animating:!0,color:"black",size:"small"}),o.a.createElement(ie.a,{style:{fontWeight:"bold",marginTop:4,letterSpacing:.4}},"Cargando..."))))},Ue=u.a.create({modalContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:"#FAFAFA",borderRadius:28,width:89,height:88,borderWidth:.4,borderColor:"grey"},d.a.select({web:{marginLeft:"50%"},android:{alignSelf:"center"}}))}),Ne=n(39),ze=function(e){var t=e.value,n=e.editable,r=e.inputContainer,a=e.onChangeNumber,i=e.onChange,c=e.placeholder,l=void 0===c?"":c;return o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(q.a,{value:0===t?"":t,displayType:"text",decimalSeparator:",",thousandSeparator:".",decimalScale:2,renderText:function(e){return o.a.createElement(Ne.a,{inlineImageLeft:"currency_sign",editable:n,autoCorrect:!1,autoCapitalize:"none",autoCompleteType:"off",underlineColorAndroid:"transparent",maxLength:11,style:!1===n?[r,{fontWeight:"bold",color:"black",backgroundColor:null,borderWidth:0}]:r,placeholder:l,onChangeText:function(e){var t=e.replace(/\./g,"");return a(Number(t))},onChange:i,value:e,keyboardType:"numeric"})}}))},We=o.a.memo((function(e){var t=e.disabled,n=e.data,r=e.onClickItem,i=(e.initialNumToRender,e.title),c=void 0===i?"elegir...":i,l=e.titleContainer,s=e.titleStyle,u=(e.icon,e.color),m=void 0===u?"blue":u,p=e.buttonStyle,f=Object(a.useState)(!1),g=P()(f,2),b=g[0],y=g[1],E=function(e){r(e),y(!1)};return o.a.createElement(W.a,null,o.a.createElement(ge.a,{statusBarHeight:35,visible:b,onDismiss:function(){return y(!1)},anchor:o.a.createElement(Y,{disabled:t,onPress:function(){return ye.a.dismiss(),"web"!==d.a.OS?setTimeout((function(){y(!0)}),8):y(!0)},style:[Ge.labelContainer,l,{backgroundColor:!0===t?"#F5F5F5":"white"}]},o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(G.a,{style:[Ge.labelStyle,s]},""===c?o.a.createElement(G.a,{style:{fontStyle:"italic",color:!0===t?"grey":"black"}},"Elegir..."):c.toUpperCase()),o.a.createElement(W.a,{style:[Ge.iconContainer,{backgroundColor:m},p]},o.a.createElement(ce.a,{name:"chevron-down",size:24,color:"white"}))))},n.map((function(e){return o.a.createElement(ge.a.Item,{key:e.id,onPress:function(){return E(e)},title:e.name})}))))}),(function(e,t){return e.data===t.data&&e.title===t.title&&e.disabled===t.disabled})),Ge=u.a.create({labelContainer:{borderWidth:1,alignItems:"center",justifyContent:"center",height:35,width:190,borderRightWidth:0,borderColor:"grey",borderRadius:3,backgroundColor:"white"},iconContainer:{height:35,width:30,borderWidth:1,borderRadius:3,borderColor:"grey",borderBottomLeftRadius:0,borderTopLeftRadius:0,justifyContent:"center",alignItems:"center"},labelStyle:{textAlign:"center",width:160,color:"black"}}),Me=o.a.memo((function(e){var t=e.value,n=void 0===t?"":t,r=e.onChangeText,a=e.placeholder,i=void 0===a?"":a,c=e.keyboardType,l=void 0===c?"default":c,s=e.maxLength,u=void 0===s?40:s,d=e.editable,m=void 0===d||d,p=e.inputStyle;return o.a.createElement(W.a,{style:Ve.container},o.a.createElement(Ne.a,{editable:m,autoCorrect:!1,autoCompleteType:"off",underlineColorAndroid:"transparent",placeholder:i,keyboardType:l,maxLength:u,style:[Ve.inputContainer,p],value:n,onChangeText:function(e){return r(e)}}))}),(function(e,t){return e.value===t.value&&e.editable===t.editable})),Ve=u.a.create({container:{marginTop:.5,marginBottom:.5},inputContainer:{width:170,height:34,borderWidth:1,borderRadius:3,borderColor:"grey",paddingBottom:0,paddingTop:0,paddingLeft:8,fontSize:18,backgroundColor:"white",letterSpacing:.6}}),He=n(158),Je=o.a.memo((function(e){var t=e.date,n=e.onConfirm,r=e.birthdate,i=e.containerStyle,c=r?new Date(2016,1,2):new Date,l=Oe(),s=l.firstDay,u=l.lastDay,d=Object(a.useState)(!1),m=P()(d,2),p=m[0],f=m[1],g=Object(a.useCallback)((function(){f(!1)}),[f]),b=Object(a.useCallback)((function(e){return f(!1),n(e.date.getTime())}),[f,n]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(xe.a,{theme:{roundness:3},color:"white",onPress:function(){return f(!0)},uppercase:!1,mode:"contained",style:[Xe.buttonContainer,i],labelStyle:{marginTop:7}},null===t?"-- / -- / --":Ce(t)),o.a.createElement(He.a,{mode:"single",visible:p,onDismiss:g,date:c,onConfirm:b,validRange:{startDate:r?new Date(1920,1,2):s,endDate:r?new Date(2016,1,2):u},saveLabel:"Aceptar",label:"Seleccionar Fecha"}))}),(function(e,t){return e.date===t.date})),Xe=u.a.create({buttonContainer:{height:36,width:140,borderColor:"grey",borderWidth:.4}}),Ye=n(86),Ze=function(){var e,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=["userExpenses","userBudgets"],n.next=4,k.a.awrap(Ye.a.multiGet(e));case 4:return t=n.sent,n.abrupt("return",{userExpenses:null===JSON.parse(t[0][1])?[]:JSON.parse(t[0][1]),userBudgets:null===JSON.parse(t[1][1])?[]:JSON.parse(t[1][1])});case 8:throw n.prev=8,n.t0=n.catch(0),n.t0;case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},qe=function(e,t){return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(Ye.a.setItem(e,JSON.stringify(t)));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),n.t0;case 8:case"end":return n.stop()}}),null,null,[[0,5]],Promise)},$e=function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(Ye.a.getItem(e));case 3:return t=null===(t=n.sent)?[]:JSON.parse(t),n.abrupt("return",t);case 8:throw n.prev=8,n.t0=n.catch(0),n.t0;case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},Ke=function(){var e;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=["userExpenses","userBudgets","storageMonth"],t.prev=1,t.next=4,k.a.awrap(Ye.a.multiRemove(e));case 4:console.log("all storage removed"),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),null,null,[[1,7]],Promise)},Qe=function(e,t){var n,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.awrap($e("userExpenses"));case 2:r=a.sent,a.t0=e,a.next="PUT"===a.t0?6:"UPDATE"===a.t0?8:"DELETE"===a.t0?11:14;break;case 6:return r.push(t),a.abrupt("break",15);case 8:return n=r.findIndex((function(e){return e.id===t.id})),r.splice(n,1,t),a.abrupt("break",15);case 11:return n=r.findIndex((function(e){return e.id===t.id})),r.splice(n,1),a.abrupt("break",15);case 14:throw new Error("No action Match en updateExpenseStorage function");case 15:return a.next=17,k.a.awrap(qe("userExpenses",r));case 17:case"end":return a.stop()}}),null,null,null,Promise)},et=function(e,t){var n,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.awrap($e("userBudgets"));case 2:r=a.sent,a.t0=e,a.next="PUT"===a.t0?6:"UPDATE"===a.t0?8:11;break;case 6:return r.push(t),a.abrupt("break",12);case 8:return n=r.findIndex((function(e){return e.id===t.id})),r.splice(n,1,t),a.abrupt("break",12);case 11:throw new Error("No action Match en updateBudgetStorage function");case 12:return a.next=14,k.a.awrap(qe("userBudgets",r));case 14:case"end":return a.stop()}}),null,null,null,Promise)};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=o.a.memo((function(e){var t=e.visible,n=e.onHideModal,r=e.expenseInfo,i=e.selectedCategory,c=e.selectedClass,l=Pe,s=Object(a.useContext)(B).setExpensesGroup,u=Object(a.useRef)([]),m={id:null,category_name:"",category_id:null,concept_name:"",concept_id:"",description:"",date:(new Date).getTime(),value:0},p=Object(a.useState)(r||m),f=P()(p,2),g=f[0],b=f[1],y=Object(a.useState)(!1),E=P()(y,2),h=E[0],v=E[1],x=function(){var e=0;return"web"!==d.a.OS&&(e=5,ye.a.dismiss()),e},C=function(){var e,t=nt({},g);return delete t.category_name,delete t.concept_name,t.date=(e=g.date,new Date(e).toISOString()),{expenseDbFields:t,expenseUiFields:g}},O=function(){return b(m),n()};return Object(a.useEffect)((function(){i&&(u.current=Te(i.id),b((function(e){return nt(nt({},e),{},{category_name:i.name,category_id:i.id})})))}),[i]),Object(a.useEffect)((function(){r&&b((function(e){return nt(nt({},e),r)}))}),[r]),o.a.createElement(Ee.a,null,o.a.createElement(he.a,{dismissable:!0,visible:t,onDismiss:O,contentContainerStyle:w.modalContainer},o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Fecha de Registro"),o.a.createElement(Je,{date:g.date,onConfirm:function(e){return b((function(t){return nt(nt({},t),{},{date:e})}))}})),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Categor\xeda"),o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(We,{title:g.category_name,disabled:Boolean(i),data:l,onClickItem:function(e){var t=g.concept_name;return""!==g.concept_name&&(t=""),u.current=Te(e.id),b((function(n){return nt(nt({},n),{},{category_name:e.name,category_id:e.id,concept_name:t})}))}}))),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Concepto"),o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(We,{title:g.concept_name,disabled:!g.category_name,data:u.current,onClickItem:function(e){return b((function(t){return nt(nt({},t),{},{concept_name:e.name,concept_id:e.id})}))}}))),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Valor Gastado"),o.a.createElement(ze,{value:g.value,inputContainer:[w.input,{width:140}],onChangeNumber:function(e){return b((function(t){return nt(nt({},t),{},{value:e})}))},placeholder:"0.0..."})),o.a.createElement(ae.a,{style:w.subheading},"Descripci\xf3n"),o.a.createElement(Me,{value:g.description,onChangeText:function(e){return b((function(t){return nt(nt({},t),{},{description:e})}))},placeholder:"Pago Arriendo del mes ...",inputStyle:{width:"100%"}}),o.a.createElement(W.a,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginTop:15}},r&&o.a.createElement(ve.a,{icon:"delete-forever",size:28,color:"red",onPress:function(){var e=x();setTimeout((function(){return function(){var e,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),e=C(),e.expenseDbFields,t=e.expenseUiFields,n.next=4,k.a.awrap(Qe("DELETE",t));case 4:s({type:"DELETE_EXPENSE",payload:{deletedExpense:t,selectedCategory:i,selectedClass:c}}),setTimeout((function(){v(!1),O()}),1e3);case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}),e)},style:{marginRight:20}}),o.a.createElement(xe.a,{mode:"contained",onPress:O,color:"#546E7A"},"Cancelar"),o.a.createElement(xe.a,{disabled:!g.category_name||!g.concept_name||!g.value||!g.date,mode:"contained",onPress:function(){var e=x();setTimeout((function(){return r?function(){var e,t,n;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!0),e=C(),e.expenseDbFields,t=e.expenseUiFields,a.next=4,k.a.awrap(Qe("UPDATE",t));case 4:n={oldExpenseValue:r.value,updatedExpense:t,selectedCategory:i,selectedClass:c},s({type:"UPDATE_EXPENSE",payload:n}),setTimeout((function(){v(!1),O()}),1e3);case 7:case"end":return a.stop()}}),null,null,null,Promise)}():function(){var e,t,n,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!0),e=C(),t=e.expenseDbFields,n=e.expenseUiFields,delete t.id,r=nt(nt({},n),{},{id:we(1,999)}),a.next=6,k.a.awrap(Qe("PUT",r));case 6:s({type:"PUT_EXPENSE",payload:r}),setTimeout((function(){v(!1),O()}),1e3);case 8:case"end":return a.stop()}}),null,null,null,Promise)}()}),e)}},r?"Editar":"Crear"," Gasto")),h&&o.a.createElement(Be,{loading:h})))}),(function(e,t){return e.visible===t.visible})),at=n(202),ot=n(203);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=o.a.memo((function(e){var t=e.visible,n=e.onHideModal,r=e.category,i=Object(a.useContext)(B).setExpensesGroup,c=Object(a.useState)(0),l=P()(c,2),s=l[0],u=l[1],d=Object(a.useState)(!1),m=P()(d,2),p=m[0],f=m[1],g=function(){var e=0,t="0%",n="bell-remove-outline",a=!1;return s>(null==r?void 0:r.value)&&(t=(100*(e=(null==r?void 0:r.value)/s)).toFixed(1)+"%",a=!0,n="bell-check"),{barProgress:e,labelProgress:t,alert:a,iconBell:n}},b=function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.next=3,k.a.awrap(et("PUT",e));case 3:t=ct(ct({},r),{},{budget_id:we(1,999),budget:s,alert:!0}),i({type:"UPDATE_CATEGORY",payload:t}),setTimeout((function(){f(!1),E()}),1500);case 6:case"end":return n.stop()}}),null,null,null,Promise)},y=function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.next=3,k.a.awrap(et("UPDATE",e));case 3:t=ct(ct({},r),{},{budget_id:e.id,budget:e.budget,alert:!0}),i({type:"UPDATE_CATEGORY",payload:t}),setTimeout((function(){f(!1),E()}),1500);case 6:case"end":return n.stop()}}),null,null,null,Promise)},E=function(){return u(0),n()};return Object(a.useEffect)((function(){r&&u(r.budget)}),[r]),o.a.createElement(Ee.a,null,o.a.createElement(he.a,{visible:t,onDismiss:E,contentContainerStyle:w.modalContainer},o.a.createElement(W.a,null,o.a.createElement(W.a,{style:{flexDirection:"row",marginBottom:10,alignItems:"center"}},o.a.createElement(re.a.Icon,{theme:{colors:{primary:null==r?void 0:r.color}},style:{borderWidth:1,borderColor:"black",marginRight:15},size:50,icon:null==r?void 0:r.icon}),o.a.createElement(at.a,{style:{width:230,letterSpacing:1}},null==r?void 0:r.name.toUpperCase()," "),o.a.createElement(ce.a,{name:g().iconBell,size:32,color:"black"})),o.a.createElement(ot.a,{inset:!0,style:{height:1.5}}),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Gasto Actual"),o.a.createElement(ze,{value:null==r?void 0:r.value,inputContainer:w.input,editable:!1})),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ae.a,{style:w.subheading},"Presupuesto"),o.a.createElement(ze,{value:s,inputContainer:w.input,onChangeNumber:u,placeholder:"0.0..."})),o.a.createElement(oe.a,{progress:g().barProgress,color:null==r?void 0:r.second_color,style:{marginTop:10,marginBottom:6,height:8}}),o.a.createElement(ae.a,{style:{textAlign:"center"}},"Progreso Presupuesto:"," ",o.a.createElement(at.a,null,g().labelProgress)),o.a.createElement(W.a,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginTop:15}},o.a.createElement(xe.a,{mode:"contained",onPress:E,color:"#546E7A"},"Cancelar"),o.a.createElement(xe.a,{disabled:!g().alert,mode:"contained",onPress:function(){var e={category_id:r.id,budget:s};return null!==r.budget_id?(e.id=r.budget_id,y(e)):(e.id=we(1,999),b(e))}},"Guardar")),p&&o.a.createElement(Be,{loading:p}))))}),(function(e,t){return e.visible===t.visible})),st=n(121),ut=n(139),dt=function(e){var t=e.visible,r=e.onDismiss,i="https://santi1991.github.io/me",c=Object(a.useCallback)((function(){return k.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.awrap(st.a.canOpenURL(i));case 2:if(!e.sent){e.next=8;break}return e.next=6,k.a.awrap(st.a.openURL(i));case 6:e.next=9;break;case 8:ut.a.alert("Don't know how to open this URL: "+i);case 9:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return o.a.createElement(Ee.a,null,o.a.createElement(he.a,{visible:t,onDismiss:r,contentContainerStyle:[w.modalContainer,{height:220}]},o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(re.a.Image,{size:110,source:n(312)}),o.a.createElement(W.a,{style:{marginLeft:8,width:230}},o.a.createElement(ne.a,{style:{textAlign:"center"}},"Hola Mundo!, Soy Santiago"),o.a.createElement(ie.a,{style:{textAlign:"center"}},"Recuerda, ning\xfan dato que ingreses persiste en una DB."),o.a.createElement(ne.a,null,"santiago.marulandam@gmail.com"))),o.a.createElement(W.a,{style:{marginTop:10,marginBottom:10}},o.a.createElement(xe.a,{icon:"web",mode:"contained",onPress:c},"Ir a mi Sitio"))))},mt=function(e){var t=e.navigation,n=(e.route,Object(a.useContext)(B).expensesGroup),r=Object(a.useRef)(null),i=Object(a.useState)(!1),c=P()(i,2),l=c[0],s=c[1],u=function(e){r.current=e,s(!0)},d=Object(a.useState)(!1),m=P()(d,2),p=m[0],f=m[1],g=Object(a.useState)(!1),b=P()(g,2),y=b[0],E=b[1];return o.a.createElement(W.a,{style:pt.container},o.a.createElement(be,{showAddExpense:u,showAboutMe:function(){return E(!0)}}),o.a.createElement(K,z()({},n,{showAddExpense:u})),o.a.createElement(me,z()({},n,{toEditExpenses:function(e){return 0===e.value?alert("A\xfan no tienes datos registrados"):t.navigate("ExpenseDetailScreen",{category:e})},showAddExpense:u,showAddBudget:function(e){r.current=e,f(!0)}})),o.a.createElement(rt,{visible:l,onHideModal:function(){r.current=null,s(!1)},selectedCategory:r.current}),o.a.createElement(lt,{visible:p,onHideModal:function(){r.current=null,f(!1)},category:r.current}),y&&o.a.createElement(dt,{visible:y,onDismiss:function(){return E(!1)}}))},pt=u.a.create({container:{flex:1}}),ft=n(67),gt=o.a.memo((function(e){var t=e.list,n=e.onClickItem,r=e.color;return o.a.createElement(W.a,null,o.a.createElement(ee.a,{data:t,extraData:t,renderItem:function(e){var t=e.item;return o.a.createElement(Y,{onPress:function(){return n(t)},style:[bt.itemContainer,{flex:"web"===d.a.OS?.3:.5}]},o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{style:[bt.itemHeader,{backgroundColor:r}]},o.a.createElement(ae.a,{style:{color:"white"}},t.concept_name)),o.a.createElement(W.a,{style:{justifyContent:"space-around",alignItems:"center"}},o.a.createElement(ne.a,null,null===t.date?"-- / -- / --":Ce(t.date)),o.a.createElement(ne.a,null,t.description),o.a.createElement($,{value:t.value,style:{color:"black"}}))))},keyExtractor:function(e){return e.id.toString()},numColumns:"web"===d.a.OS?3:2,ListEmptyComponent:o.a.createElement(ne.a,{style:{textAlign:"center"}},"No se han encontrado resultados")}))}),(function(e,t){return e.list===t.list})),bt=u.a.create({itemContainer:{height:110,margin:4,padding:4,borderRadius:16,borderWidth:.5,borderColor:"grey",backgroundColor:"#F5F5F5",elevation:5},itemHeader:{height:25,alignItems:"center",justifyContent:"center",borderWidth:.5,borderTopLeftRadius:14,borderTopRightRadius:14,borderBottomLeftRadius:6,borderBottomRightRadius:6}}),yt=n(60),Et=function(e){var t=e.category,n=e.expenses,r=e.currentPeriod,a=e.totalExpense,i=r.firstDay.getDate(),c=r.lastDay.getDate(),l=r.firstDay.getMonth()+1,s=r.lastDay.getFullYear();return o.a.createElement(W.a,{style:ht.resumeContainer},o.a.createElement(yt.a,{style:[ht.categorySurface,{backgroundColor:t.color}]},o.a.createElement(W.a,{style:ht.pairContainer},o.a.createElement(re.a.Icon,{style:ht.categoryIcon,size:32,icon:t.icon}),o.a.createElement(ae.a,{style:ht.textTitle},t.name.toUpperCase())),o.a.createElement(W.a,{style:ht.pairContainer},o.a.createElement(ie.a,{style:ht.pairLabel},"# transacciones:"),o.a.createElement(ie.a,{style:{color:"white",fontSize:16}},n.length)),o.a.createElement(W.a,{style:ht.pairContainer},o.a.createElement(ie.a,{style:ht.pairLabel},"Presupuesto:"),o.a.createElement($,{value:t.budget})),o.a.createElement(W.a,{style:ht.pairContainer},o.a.createElement(ie.a,{style:ht.pairLabel},"Gasto Total:"),o.a.createElement($,{value:t.value}))),o.a.createElement(W.a,null,o.a.createElement(yt.a,{style:[ht.surface,{backgroundColor:t.third_color}]},o.a.createElement(ie.a,{style:{fontWeight:"bold"}},"Periodo"),o.a.createElement(ie.a,null,i," - ",c," / ",l," / ",s)),o.a.createElement(yt.a,{style:[ht.surface,{backgroundColor:t.third_color,marginTop:8}]},o.a.createElement(ie.a,{style:{fontWeight:"bold"}},"Gasto Global"),o.a.createElement($,{value:a,style:{color:"black"}}))))},ht=u.a.create({resumeContainer:{flexDirection:"row",justifyContent:"web"===d.a.OS?"space-evenly":"space-around",marginTop:8,marginBottom:5},categorySurface:{padding:5,height:108,width:"web"===d.a.OS?345:235,justifyContent:"space-evenly",elevation:4},textTitle:{color:"white",fontWeight:"bold",letterSpacing:1,marginLeft:8},surface:{padding:6,height:50,width:"web"===d.a.OS?245:135,alignItems:"center",justifyContent:"center",elevation:4},pairContainer:{flexDirection:"row",alignItems:"center"},pairLabel:{fontWeight:"bold",color:"white",marginRight:7},categoryIcon:{borderWidth:1,borderColor:"white"}}),vt=o.a.memo((function(e){var t=e.values,n=e.defaultValue,r=e.onSelect,i=e.iconLeft,c=void 0===i?"":i,l=e.iconRight,s=void 0===l?"":l,u=e.activeColor,d=void 0===u?"#263238":u,m=e.inactiveColor,p=void 0===m?"white":m,f=e.titleLeft,g=void 0===f?"":f,b=e.titleRight,y=void 0===b?"":b,E=e.buttonContainer,h=e.labelStyle,v=e.spacing,x=void 0===v?0:v;console.log(n);var w=t[0],C=t[1],O=Object(a.useRef)(!1),j=Object(a.useRef)(!1),S=Object(a.useState)(!1),D=P()(S,2),k=D[0],_=D[1];return Object(a.useEffect)((function(){if(n){switch(n){case w:j.current=!1,O.current=!0;break;case C:j.current=!0,O.current=!1}_(!k)}}),[]),o.a.createElement(W.a,{style:xt.container},o.a.createElement(Y,{style:[xt.buttonContainer,E,{borderTopLeftRadius:3,borderBottomLeftRadius:3,backgroundColor:n&&O.current?d:p,marginRight:.5*x}],onPress:function(){return j.current=!1,O.current=!0,r(w)}},o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(G.a,{style:[xt.label,h,{color:n===w?"white":"black"}]},g),n===w&&o.a.createElement(ce.a,{name:c,size:22,color:"white"}))),o.a.createElement(Y,{style:[xt.buttonContainer,E,{backgroundColor:n&&j.current?d:p,marginLeft:.5*x,borderBottomRightRadius:3,borderTopRightRadius:3}],onPress:function(){return j.current=!0,O.current=!1,r(C)}},o.a.createElement(W.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(G.a,{style:[xt.label,h,{color:n===C?"white":"black"}]},y),n===C&&o.a.createElement(ce.a,{name:s,size:22,color:"white"}))))}),(function(e,t){return e.defaultValue===t.defaultValue})),xt=u.a.create({container:{flexDirection:"row",justifyContent:"center",marginTop:4,marginBottom:4},buttonContainer:{height:40,width:140,backgroundColor:"white",borderColor:"grey",borderWidth:1,justifyContent:"center",alignItems:"center",marginLeft:0,marginRight:0,elevation:4},label:{marginLeft:3,marginRight:3,fontWeight:"bold",letterSpacing:1,color:"black"}}),wt=o.a.memo((function(e){var t=e.startDate,n=e.endDate,r=e.onConfirm,i=e.containerStyle,c=Oe(),l=c.firstDay,s=c.lastDay,u=Object(a.useState)(!1),d=P()(u,2),m=d[0],p=d[1],f=Object(a.useCallback)((function(){p(!1)}),[p]),g=Object(a.useCallback)((function(e){var t=e.startDate,n=e.endDate;p(!1),r(t.getTime(),n.getTime())}),[p,r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(xe.a,{color:"white",onPress:function(){return p(!0)},uppercase:!1,mode:"contained",style:[Ct.buttonContainer,i],labelStyle:{fontSize:12}},(null===t?"-- / -- / -- ":Ce(t))+" to "+(null===n?" -- / -- / --":Ce(n))),m&&o.a.createElement(He.a,{mode:"range",visible:m,onDismiss:f,startDate:l,endDate:s,onConfirm:g,saveLabel:"Aceptar",label:"Selecciona el Periodo",startLabel:"Desde",endLabel:"Hasta"}))}),(function(e,t){return e.startDate===t.startDate&&e.endDate===t.endDate})),Ct=u.a.create({buttonContainer:{height:36,width:160,borderColor:"grey",borderWidth:.5}});function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=o.a.memo((function(e){var t=e.visible,n=e.onHideModal,r=e.onFilter,i=(e.onClean,e.masterDataSource),c=e.conceptsList,l="close-box-outline",s=Object(a.useState)(!1),u=P()(s,2),d=u[0],m=u[1],p=Object(a.useRef)([]),f=function(e){var t=p.current.findIndex((function(t){return t.id===e.id}));t>-1&&p.current.splice(t,1,e),p.current.push(e)},g=function(e){var t=p.current.findIndex((function(t){return t.id===e}));p.current.splice(t,1)},b=Object(a.useRef)(""),y=Object(a.useRef)(null),E=function(){g(1),b.current="",y.current=null,m(!d)},h=Object(a.useRef)(null),x=Object(a.useRef)(null),C=function(){g(2),h.current=null,x.current=null,m(!d)},O=Object(a.useState)(null),j=P()(O,2),D=j[0],k=j[1],_=function(){return g(3),k(null)},R=Object(a.useState)({firstValue:0,lastValue:0}),T=P()(R,2),I=T[0],A=T[1],F=function(e,t){if("first"===e)return A(Pt(Pt({},I),{},{firstValue:t}));var n={id:4,filter:[I.firstValue,t]};return f(n),A(Pt(Pt({},I),{},{lastValue:t}))},L=function(){return g(4),A(Pt(Pt({},I),{},{firstValue:0,lastValue:0}))},B=Object(a.useState)(null),U=P()(B,2),N=U[0],z=U[1],G=function(){return g(5),z(null)},M=function(){return n()};return o.a.createElement(Ee.a,null,o.a.createElement(he.a,{dismissable:!0,visible:t,onDismiss:M,contentContainerStyle:[w.modalContainer,{height:400}]},o.a.createElement(W.a,null,o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ie.a,null,"Por Concepto"),o.a.createElement(We,{title:b.current,data:c,onClickItem:function(e){b.current=e.name,y.current=e.id;var t={id:1,filter:e.id};f(t),m(!d)},titleContainer:{width:155}}),o.a.createElement(ve.a,{disabled:!b.current,icon:l,color:"black",size:20,onPress:E})),o.a.createElement(ot.a,{style:w.dividerContainer}),o.a.createElement(ie.a,null,"Por Rango de Fecha"),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(wt,{startDate:h.current,endDate:x.current,onConfirm:function(e,t){h.current=e,x.current=t,f({id:2,filter:[e,t]}),m(!d)},containerStyle:{width:300}}),o.a.createElement(ve.a,{disabled:!x.current,icon:l,color:"black",size:20,onPress:C})),o.a.createElement(ie.a,null,"Por Orden de Fecha"),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(vt,{activeColor:v,buttonContainer:{height:35,width:100},titleLeft:"Reciente",iconLeft:"arrow-up",iconRight:"arrow-up",titleRight:"Antiguo",spacing:10,values:["newest","oldest"],defaultValue:D,onSelect:function(e){return f({id:3,filter:t=e}),k(t);var t}}),o.a.createElement(ve.a,{disabled:!D,icon:l,color:"black",size:20,onPress:_})),o.a.createElement(ot.a,{style:w.dividerContainer}),o.a.createElement(ie.a,null,"Por Valor"),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(ze,{value:I.firstValue,inputContainer:[w.input,{width:115}],onChangeNumber:function(e){return F("first",e)},placeholder:"Min."}),o.a.createElement(ze,{value:I.lastValue,inputContainer:[w.input,{width:115}],onChangeNumber:function(e){return F("last",e)},placeholder:"Max."}),o.a.createElement(ve.a,{disabled:!I.lastValue||!I.firstValue,icon:l,color:"black",size:20,onPress:L})),o.a.createElement(ie.a,null,"Por Orden de Valor"),o.a.createElement(W.a,{style:w.modalPairContainer},o.a.createElement(vt,{activeColor:v,buttonContainer:{height:35,width:110},iconLeft:"arrow-up",titleLeft:"De Mayor",titleRight:"De Menor",iconRight:"arrow-up",spacing:10,values:["highest","lowest"],defaultValue:N,onSelect:function(e){return f({id:5,filter:t=e}),z(t);var t}}),o.a.createElement(ve.a,{disabled:!N,icon:l,color:"black",size:20,onPress:G})),o.a.createElement(ot.a,{style:w.dividerContainer}),o.a.createElement(W.a,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginTop:15}},o.a.createElement(xe.a,{mode:"text",style:{width:120},onPress:M},"Cancelar"),o.a.createElement(xe.a,{disabled:!p.current.length,mode:"contained",color:"blue",style:{width:100},onPress:function(){for(var e=S()(p.current),t=function(t){switch(e.find((function(n){return n.id===e[t].id})).id){case 1:E();break;case 2:C();break;case 3:_();break;case 4:L();break;case 5:G();break;default:throw p.current=[],new Error("No match en switch cleanFilterOptions")}},n=0;n<e.length;n++)t(n)}},"Limpiar"),o.a.createElement(xe.a,{mode:"contained",onPress:function(){var e=Ae(i,p.current);return r(e)},style:{width:100}},"Filtrar")))))}),(function(e,t){return e.visible===t.visible})),St=n(204),Dt=function(e){var t=e.color,n=e.navigation,r=e.filterFunction,i=e.masterDataSource,c=e.showFilter,l=Object(a.useState)(!1),s=P()(l,2),u=s[0],d=s[1],m=Object(a.useState)(""),p=P()(m,2),f=p[0],g=p[1];return o.a.createElement(fe.a.Header,{theme:{colors:{primary:t}},statusBarHeight:0,style:{justifyContent:"space-between"}},o.a.createElement(fe.a.BackAction,{onPress:n.goBack}),o.a.createElement(St.a,{placeholder:"Buscar...",onChangeText:function(e){if(g(e),e){var t=i.filter((function(t){var n=t.description?t.description.toUpperCase():"".toUpperCase(),r=e.toUpperCase();return n.indexOf(r)>-1}));return r(t)}return r(i)},value:f,style:kt.searchBarStyle,inputStyle:{paddingBottom:0,paddingTop:0}}),o.a.createElement(fe.a.Action,{icon:"filter-outline",onPress:c}),o.a.createElement(ge.a,{visible:u,onDismiss:function(){return d(!1)},anchor:o.a.createElement(fe.a.Action,{disabled:!0,icon:"dots-vertical",color:"white",onPress:function(){return d(!0)}})},o.a.createElement(ge.a.Item,{onPress:function(){return alert("option1")},title:"Presupuesto"}),o.a.createElement(ge.a.Item,{onPress:function(){return alert("option3")},title:"Reportes"}),o.a.createElement(ge.a.Item,{onPress:function(){return alert("option2")},title:"Ayuda..."})))},kt=u.a.create({searchBarStyle:{height:35,width:"web"===d.a.OS?"45%":220}});function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=function(e){var t,n=e.navigation,r=e.route,c=Object(a.useContext)(B).expensesGroup,l=Object(a.useRef)(!0),s=Object(a.useRef)([]),u=Object(a.useRef)({}),d={category:r.params.category,expenses:[],filteredExpenses:[]},m=Object(a.useState)(d),p=P()(m,2),f=p[0],g=p[1],b=Object(a.useState)(!1),y=P()(b,2),E=y[0],h=y[1],v=Object(a.useState)(!1),x=P()(v,2),w=x[0],C=x[1],O=function(){return C(!1)};return Object(a.useEffect)((function(){var e;if(null!=(e=r.params)&&e.category){s.current=Te(r.params.category.id);var t=Ie(r.params.category.id,c);g(Rt(Rt({},f),{},{expenses:t,filteredExpenses:t}))}}),[null==(t=r.params)?void 0:t.category]),Object(a.useEffect)((function(){if(!0!==l.current){var e=function(e,t){var n=t.find((function(t){return t.id===e}));if(n)return n;throw new Error("currentCategory not found! -> no match with categoryId: Utils / selectCategory")}(r.params.category.id,c.categoryExpenses),t=Ie(r.params.category.id,c);g(Rt(Rt({},f),{},{category:e,expenses:t,filteredExpenses:t}))}else l.current=!1}),[c]),o.a.createElement(ft.a,{style:It.container},o.a.createElement(i.a,{barStyle:"light-content",backgroundColor:f.category.color,animated:!0}),o.a.createElement(Dt,{color:f.category.color,navigation:n,masterDataSource:f.expenses,filterFunction:function(e){g(Rt(Rt({},f),{},{filteredExpenses:e}))},showFilter:function(){return C(!0)}}),o.a.createElement(Et,{totalExpense:c.totalExpense,currentPeriod:c.currentPeriod,category:f.category,expenses:f.expenses}),o.a.createElement(gt,{list:f.filteredExpenses,onClickItem:function(e){u.current=e,h(!0)},color:f.category.color}),o.a.createElement(rt,{visible:E,expenseInfo:u.current,selectedCategory:f.category,selectedClass:f.expenses,onHideModal:function(){u.current=null,h(!1)}}),o.a.createElement(jt,{visible:w,onFilter:function(e){g(Rt(Rt({},f),{},{filteredExpenses:e})),O()},onClean:function(){g(Rt(Rt({},f),{},{filteredExpenses:f.expenses})),O()},onHideModal:O,masterDataSource:f.expenses,conceptsList:s.current}))},It=u.a.create({container:{flex:1,backgroundColor:"white"}}),At=function(e){var t=e.visible,n=e.onHide,r=Object(a.useContext)(B),i=r.setAuthState,c=r.setExpensesGroup;return Object(a.useEffect)((function(){var e=Oe(),t=e.firstDay,n=e.lastDay;(function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(Ye.a.getItem("storageMonth"));case 3:if(null!==(t=n.sent)){n.next=10;break}return n.next=7,k.a.awrap(Ye.a.setItem("storageMonth",e.toString()));case 7:return n.abrupt("return",n.sent);case 10:if(!(e>Number(t))){n.next=16;break}return n.next=13,k.a.awrap(Ke());case 13:return n.next=15,k.a.awrap(Ye.a.setItem("storageMonth",e.toString()));case 15:return n.abrupt("return",n.sent);case 16:n.next=21;break;case 18:throw n.prev=18,n.t0=n.catch(0),n.t0;case 21:case"end":return n.stop()}}),null,null,[[0,18]],Promise)})(t.getMonth()+1).then((function(){(function(){var e,t,n;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.a.awrap(Ze());case 2:return e=r.sent,t=e.userExpenses,n=e.userBudgets,r.abrupt("return",{userExpenses:t,userBudgets:n});case 6:case"end":return r.stop()}}),null,null,null,Promise)})().then((function(e){var r=function(e,t,n){for(var r=S()(e),a=0,o=0,i=0,c=0,l=0,s=0,u=[],d=[],m=[],p=[],f=[],g=[],b=0,y=0;y<t.length;y++)switch(b+=t[y].value,t[y].category_id){case 1:u.push(t[y]),a=a+=t[y].value;break;case 2:d.push(t[y]),o=o+=t[y].value;break;case 3:m.push(t[y]),i=i+=t[y].value;break;case 4:p.push(t[y]),c=c+=t[y].value;break;case 5:f.push(t[y]),l=l+=t[y].value;break;case 6:g.push(t[y]),s=s+=t[y].value;break;default:throw new Error("ERROR: No hubo coincidendia armando  -> switch userExpenses: structureUserExpenses")}for(var E=function(e){switch(r[e].id){case 1:r[e].value=a;break;case 2:r[e].value=o;break;case 3:r[e].value=i;break;case 4:r[e].value=c;break;case 5:r[e].value=l;break;case 6:r[e].value=s;break;default:throw new Error("No match for each category Value")}r[e].budget=0,r[e].budget_id=null,r[e].alert=!1;var t=n.find((function(t){return t.category_id===r[e].id}));t&&(r[e].budget=t.budget,r[e].budget_id=t.id,r[e].alert=Boolean(r[e].budget>r[e].value)||!1)},h=0;h<r.length;h++)E(h);return{totalExpense:b,categoryExpenses:r,housingExpenses:u,transportExpenses:d,billsExpenses:m,personalExpenses:p,foodExpenses:f,creditExpenses:g}}(Pe,e.userExpenses,e.userBudgets);r.currentPeriod={firstDay:t,lastDay:n},setTimeout((function(){c({type:"INITIALIZE",payload:r}),i({type:"LOG_IN"})}),1e3)}))}))}),[]),o.a.createElement(b.a,null,o.a.createElement(Ee.a,null,o.a.createElement(he.a,{visible:t,dismissable:!1,onDismiss:n,contentContainerStyle:{backgroundColor:"white",padding:20,height:"100%"},style:{marginTop:0}},o.a.createElement(Fe.a,{animating:!0,color:"red",size:"large"}),o.a.createElement(ie.a,{style:{textAlign:"center",margin:5}},"Estamos organizando tus datos..."))))},Ft=function(){var e=Object(a.useState)(!0),t=P()(e,2),n=t[0],r=t[1];return o.a.createElement(W.a,{style:Lt.container},o.a.createElement(Fe.a,{animating:!0,color:"red",size:"large"}),n&&o.a.createElement(At,{visible:n,onHide:function(){return r(!1)}}))},Lt=u.a.create({container:{flex:1,justifyContent:"center"}}),Bt=Object(C.a)(),Ut=function(){return!0===Object(a.useContext)(B).authState.isLoading?o.a.createElement(Ft,null):o.a.createElement(Bt.Navigator,null,o.a.createElement(Bt.Screen,{name:"ExpenseScreen",component:mt,options:{headerShown:!1}}),o.a.createElement(Bt.Screen,{name:"ExpenseDetailScreen",component:Tt,options:{headerShown:!1}}))},Nt=function(){return o.a.createElement(b.a,{theme:x},o.a.createElement(c.a,{theme:x},o.a.createElement(i.a,{barStyle:"light-content",animated:!0,backgroundColor:h}),o.a.createElement(Ut,null)))},zt=function(){return o.a.createElement(U,null,o.a.createElement(Nt,null))};Object(r.a)(zt)}},[[268,1,2]]]);
//# sourceMappingURL=app.67c3473a.chunk.js.map